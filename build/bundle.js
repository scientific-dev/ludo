var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function r(e){e.forEach(t)}function l(e){return"function"==typeof e}function s(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function o(e,t){e.appendChild(t)}function i(e,t,n){e.insertBefore(t,n||null)}function a(e){e.parentNode.removeChild(e)}function c(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function d(e){return document.createElement(e)}function u(e){return document.createTextNode(e)}function p(){return u(" ")}function f(){return u("")}function m(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function h(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function $(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function g(e,t,n,r){e.style.setProperty(t,n,r?"important":"")}function v(e,t,n){e.classList[n?"add":"remove"](t)}let y;function w(e){y=e}function b(e){(function(){if(!y)throw new Error("Function called outside component initialization");return y})().$$.on_mount.push(e)}const x=[],S=[],k=[],z=[],C=Promise.resolve();let N=!1;function P(e){k.push(e)}const L=new Set;let R=0;function E(){const e=y;do{for(;R<x.length;){const e=x[R];R++,w(e),T(e.$$)}for(w(null),x.length=0,R=0;S.length;)S.pop()();for(let e=0;e<k.length;e+=1){const t=k[e];L.has(t)||(L.add(t),t())}k.length=0}while(x.length);for(;z.length;)z.pop()();N=!1,L.clear(),w(e)}function T(e){if(null!==e.fragment){e.update(),r(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(P)}}const I=new Set;let _;function A(){_={r:0,c:[],p:_}}function B(){_.r||r(_.c),_=_.p}function H(e,t){e&&e.i&&(I.delete(e),e.i(t))}function U(e,t,n,r){if(e&&e.o){if(I.has(e))return;I.add(e),_.c.push((()=>{I.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}}function O(e){e&&e.c()}function D(e,n,s,o){const{fragment:i,on_mount:a,on_destroy:c,after_update:d}=e.$$;i&&i.m(n,s),o||P((()=>{const n=a.map(t).filter(l);c?c.push(...n):r(n),e.$$.on_mount=[]})),d.forEach(P)}function M(e,t){const n=e.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function q(e,t){-1===e.$$.dirty[0]&&(x.push(e),N||(N=!0,C.then(E)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Y(t,l,s,o,i,c,d,u=[-1]){const p=y;w(t);const f=t.$$={fragment:null,ctx:null,props:c,update:e,not_equal:i,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(l.context||(p?p.$$.context:[])),callbacks:n(),dirty:u,skip_bound:!1,root:l.target||p.$$.root};d&&d(f.root);let m=!1;if(f.ctx=s?s(t,l.props||{},((e,n,...r)=>{const l=r.length?r[0]:n;return f.ctx&&i(f.ctx[e],f.ctx[e]=l)&&(!f.skip_bound&&f.bound[e]&&f.bound[e](l),m&&q(t,e)),n})):[],f.update(),m=!0,r(f.before_update),f.fragment=!!o&&o(f.ctx),l.target){if(l.hydrate){const e=function(e){return Array.from(e.childNodes)}(l.target);f.fragment&&f.fragment.l(e),e.forEach(a)}else f.fragment&&f.fragment.c();l.intro&&H(t.$$.fragment),D(t,l.target,l.anchor,l.customElement),E()}w(p)}class j{$destroy(){M(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function F(t){let n,r;return{c(){n=d("div"),h(n,"class","coin svelte-1oo0wzo"),h(n,"id",r="coin-"+t[0]+"-"+t[1]),g(n,"background-color","var(--"+t[0]+"-player)")},m(e,t){i(e,n,t)},p(e,[t]){3&t&&r!==(r="coin-"+e[0]+"-"+e[1])&&h(n,"id",r),1&t&&g(n,"background-color","var(--"+e[0]+"-player)")},i:e,o:e,d(e){e&&a(n)}}}function J(e,t,n){let{code:r,i:l}=t;return e.$$set=e=>{"code"in e&&n(0,r=e.code),"i"in e&&n(1,l=e.i)},[r,l]}class G extends j{constructor(e){super(),Y(this,e,J,F,s,{code:0,i:1})}}function W(){}W.prototype={on:function(e,t,n){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var r=this;function l(){r.off(e,l),t.apply(n,arguments)}return l._=t,this.on(e,l,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),r=0,l=n.length;r<l;r++)n[r].fn.apply(n[r].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),r=n[e],l=[];if(r&&t)for(var s=0,o=r.length;s<o;s++)r[s].fn!==t&&r[s].fn._!==t&&l.push(r[s]);return l.length?n[e]=l:delete n[e],this}};var K=W;W.TinyEmitter=K;const Q=[19,20,21,22,23,24,6,5,4,3,2,1,7,13,14,15,16,17,18,42,41,40,39,38,37,43,49,50,51,52,53,54,72,71,70,69,68,67,61,55,56,57,58,59,60,36,35,34,33,32,31,25],V={red:20,blue:14,yellow:50,green:56},X={red:[26,27,28,29,30],blue:[8,9,10,11,12],yellow:[44,45,46,47,48],green:[62,63,64,65,66]},Z=[33,69,39,3,...Object.values(V)],ee=Object.fromEntries(["red","yellow","green","blue"].map((e=>{let t=Q.indexOf(V[e]),n=Q.slice(t,t+51);return 51!=n.length&&(n=n.concat(Q.slice(0,51-n.length))),[e,n.concat(X[e])]}))),te=['<div class="dot"></div>','<div class="dot"></div>'.repeat(2),'<div class="dot"></div>'.repeat(3),'<div class="flex"><div class="dot"></div> <div class="dot"></div></div>'.repeat(2),'\n        <div class="flex"><div class="dot"></div> <div class="e-dot"></div> <div class="dot"></div></div> \n        <div class="flex"><div class="e-dot"></div> <div class="dot"></div></div> \n        <div class="flex"><div class="dot"></div> <div class="e-dot"></div> <div class="dot"></div></div>\n    ','<div class="flex"><div class="dot"></div> <div class="dot"></div></div>'.repeat(3)],ne={red:"top-left",blue:"top-right",green:"bottom-left",yellow:"bottom-right"};class re{constructor(){let e=document.createElement("div");e.className="alert",e.style.opacity=0,this.element=e}setInnerHTML(e){return this.element.innerHTML=e,this}appendChildren(...e){return this.element.append(...e),this}setParent(e){return this.parent=e,this.parent.prepend(this.element),this}removeParent(){return this.parent.removeChild(this.element),this}async display(e=200){return await se(e),this.element.style.opacity=1,this}async undisplay(){return this.element.style.opacity=0,await se(200),this.removeParent()}}class le{static NULL_PLAYER=new le("No Player","null").null();kills=0;cors=[null,null,null,null];constructor(e,t,n){this.name=e,this.color=t,n&&(this.isBot=!0)}static fromJSON(e){let t=new le(e.name,e.color);return t.cors=e.cors.map((e=>"nan"==e?NaN:e)),t.kills=e.kills,e.color&&(t.color=e.color),e.rank&&(t.rank=e.rank),e.bot&&(t.isBot=e.bot),t}get coinsReached(){return this.cors.filter((e=>isNaN(e))).length}get coinsAtStart(){return this.cors.filter((e=>"object"==typeof e)).length}get coinsOutside(){return this.cors.filter((e=>!isNaN(e)&&"number"==typeof e)).length}get completed(){for(let e=0;e<this.cors.length;e++)if(!isNaN(this.cors[e]))return!1;return!0}get startPoint(){return V[this.color]}get activeCoinsIndices(){let e=[];for(let t=0;t<this.cors.length;t++){let n=this.cors[t];isNaN(n)||"number"!=typeof n||e.push(t)}return e}get coinsInsideIndices(){let e=[];for(let t=0;t<this.cors.length;t++)"object"==typeof this.cors[t]&&e.push(t);return e}get type(){return this.isBot?"bot":this.isNull?"null":"player"}null(){return this.isNull=!0,this}toJSON(){return{kills:this.kills,cors:this.cors.map((e=>isNaN(e)?"nan":e)),name:this.name,color:this.color,bot:this.isBot}}}async function se(e){return new Promise((t=>setTimeout(t,e)))}function oe(e){return Math.floor(Math.random()*e)}function ie(e){return 1==e?"1st":2==e?"2nd":3==e?"3rd":`${e}th`}Array.prototype.random=function(){return this[Math.floor(Math.random()*this.length)]},String.prototype.toProperCase=function(){return this.charAt(0).toUpperCase()+this.substring(1).toLowerCase()},Element.prototype.setNodeIDCss=function(){for(let e=0;e<this.children.length;e++)this.children[e].style.setProperty("--node-id",e+1)};const ae=new class extends K{started=!1;ended=!1;activePlayers=[];activeBots=[];currentTurn=0;ranks=[];players={red:new le("You","red"),green:le.NULL_PLAYER,yellow:le.NULL_PLAYER,blue:le.NULL_PLAYER};constructor(){super()}get playersArray(){return Object.values(this.players)}get playerCount(){return this.playersArray.filter((e=>!e.isNull)).length}get currentTurnPlayer(){return this.activePlayers[this.currentTurn]}nextTurn(){let e=this.activePlayers.length-1;this.currentTurn+=this.currentTurn==e?-e:1}onWindowLoad(){let e=document.createElement("style");e.innerHTML=Z.map((e=>`#step-${e} {background-color:var(--dark-step-color)!important}`)).join(""),e.innerHTML+=Object.entries(V).map((([e,t])=>`#step-${t} {background-color:var(--${e}-player)!important}`)).join(""),document.getElementById("wrap").append(e),this.started&&(this.emit("start"),this.alert("Resuming your game...",1200))}createPlayer(e){let t=Object.entries(this.players).find((([e,t])=>t.isNull));return t?(this.players[t[0]]=new le(e?"Bot":"Player",t[0],e),this.emit(`${t[0]}Update`).emit("playerCountUpdate"),this.players[t[0]]):null}deletePlayer(e){if(1==this.playerCount)return null;let t=this.players[e];return this.players[e]=le.NULL_PLAYER,this.emit(`${e}Update`).emit("playerCountUpdate"),t}updatePlayerName(e,t){this.players[e].name=t,this.emit(`${e}Update`)}async start(){return!this.started&&(this.activePlayers=[],Object.entries(this.players).forEach((e=>{e[1].isNull||this.activePlayers.push(e[1])})),!(this.activePlayers.length<2)&&(this.started=!0,this.emit("start"),this.activeBots=this.activePlayers.filter((e=>e.isBot)),this.clearSaved(),await this.alert("The game has started...",1e3),this.startTurns()))}async startTurns(){let e=!1;for(;!await this.checkForCompletion();){let t=this.currentTurnPlayer,n=!t.isBot;if(this.save(),t.completed){this.ranks.includes(t)||await this.pushRank(t),this.nextTurn();continue}e||(this.emit("turn",t.color),n&&await this.waitForEvent("diceRoll"));let r=await this.diceRoll(t.name+"'s")+1,l=t.coinsInsideIndices,s=6==r;if(e=s,4==l.length)s?(t.cors[0]=0,await this.moveCoin(t.color,1,t.startPoint),this.emit(`${t.color}Update`)):await this.alert("Unfortunate!",1200);else{let o;if(!s&&!t.coinsOutside){e=!1,await this.alert("Unfortunate! No coins to move!",1200),this.nextTurn();continue}if(s&&this.emit(`${t.color}PrisonSelectable`),n?(await this.alert("Select your move...",1100),o=await this.waitForEvent(`${t.color}Select`)):o=this.getBotChoice(t,l.length,r),"prison"==o){let e=l.random();t.cors[e]=0,await this.moveCoin(t.color,e+1,t.startPoint),this.emit(`${t.color}Update`)}else if("number"==typeof o[0]){let{bonusRoll:n,newStep:l,gameOver:s,playerCompleted:i}=await this.moveCoinInPath(t.color,o[0],t,r);if(s)break;i?e=!1:(e=e||n,isNaN(l)||(e=await this.killCoins(t,l)||e))}s&&this.emit(`${t.color}PrisonSelectable`)}e?await this.alert("Rolling again...",750):this.nextTurn()}return this.end(),!0}async moveCoinInPath(e,t,n,r){let l=`coin-${e}-${t}`,s=n.cors[t-1]+r,o=ee[e][s];if(!o){n.cors[t-1]=NaN;let r=document.getElementById(l),s=n.completed;return r.parentElement.removeChild(r),await this.alert(`${n.name}'s coin has reached the house!`,1100),s&&await this.pushRank(n,!0,!1),this.emit(`${e}Update`),{bonusRoll:!0,newStep:NaN,gameOver:await this.checkForCompletion(),playerCompleted:s}}return n.cors[t-1]=s,await this.moveCoin(e,t,o),{bonusRoll:!1,newStep:o}}async killCoins(e,t){if(!Z.includes(t))for(let n=0;n<this.activePlayers.length;n++){let r=this.activePlayers[n];if(r==e)continue;let l=ee[r.color],s=0;for(let e=0;e<r.cors.length;e++)l[r.cors[e]]==t&&(r.cors[e]=null,s+=1,await this.moveCoinToPrison(r.color,e+1));if(s)return e.kills+=s,this.emit(`${r.color}Update`).emit(`${e.color}Update`),!0}}async moveCoin(e,t,n){let r=document.getElementById(`coin-${e}-${t}`),l=document.getElementById(`step-${n}`),s=r.cloneNode();r.classList.add("coin-exit"),await se(500),r.parentElement.removeChild(r),s.addEventListener("click",(()=>this.emit(`${e}Select`,t))),s.classList.add("coin-active"),l.appendChild(s),l.setNodeIDCss(),await se(400)}async moveCoinToPrison(e,t){let n=document.getElementById(`coin-${e}-${t}`),r=n.parentElement,l=n.cloneNode();n.classList.add("coin-exit"),await se(500),n.parentElement.removeChild(n),l.classList.add("coin-active"),document.querySelector(`#prison-${e} .prison-inner div`).appendChild(l),r.setNodeIDCss(),await se(400)}waitForEvent(e){return new Promise((t=>{const n=(...r)=>{this.off(e,n),t(r)};this.on(e,n)}))}getForwardStep(e,t,n){let r=ee[t];return r[r.indexOf(e)+n+1]}getBotChoice(e,t,n){let r=e.activeCoinsIndices;return!r.length||6==t&&n&&oe(2)?"prison":[r.random()+1]}async checkForCompletion(){if(3==this.ranks.length)return await this.pushRank(this.activePlayers.find((e=>!this.ranks.includes(e)))),!0;for(let e=0;e<this.activePlayers.length;e++){let t=this.activePlayers[e];if(!t.isBot&&!t.completed)return!1}for(let e=0;e<this.activeBots.length;e++){let t=this.activeBots[e];t.completed||await this.pushRank(t,!1)}return!0}async pushRank(e,t=!0,n=!0){this.ranks.push(e),e.rank=this.ranks.length,t&&await this.alert(`${e.name} has won the ${ie(this.ranks.length)} place!`,1100),this.emit("canDisplayResults"),n&&this.emit(`${e.color}Update`)}getRandomDiceSideHTML(){return this.getDiceSideHTML(oe(6))}getDiceSideHTML(e){return`<div class="dside-${e+1}">${te[e]}</div>`}toJSON(){return{started:this.started,ended:this.ended,currentTurn:this.currentTurn,ranks:this.ranks.map((e=>e.color)),players:this.activePlayers.map((e=>e.toJSON()))}}save(){localStorage.setItem("ludo_data",JSON.stringify(this.toJSON()))}clearSaved(){localStorage.removeItem("ludo_data")}async startFromSaved(){let e=JSON.parse(localStorage.getItem("ludo_data")||"{}"),t=[];this.started=!1,this.ended=!1,this.currentTurn=e.currentTurn,this.activeBots=[],this.activePlayers=e.players.map(le.fromJSON),this.activeBots=this.activePlayers.filter((e=>e.isBot)),this.ranks=[],this.players={red:le.NULL_PLAYER,green:le.NULL_PLAYER,yellow:le.NULL_PLAYER,blue:le.NULL_PLAYER};for(let e=0;e<this.activePlayers.length;e++){let n=this.activePlayers[e],r=ee[n.color];this.players[n.color]=n,this.emit(`${n.color}Update`);for(let e=0;e<n.cors.length;e++){let l=n.cors[e];if(isNaN(l)){let t=document.getElementById(`coin-${n.color}-${e+1}`);t.parentElement.removeChild(t)}else"number"==typeof l&&t.push(this.moveCoin(n.color,e+1,r[l]))}}for(let t=0;t<e.ranks.length;t++){let n=this.players[e.ranks[t]];n.rank=t+1,this.ranks.push(n)}this.ranks.length&&this.emit("canDisplayResults"),e.ended?this.end().emit("displayResult"):e.started&&(this.started=!0,this.emit("start")),await Promise.all(t),e.started&&(await this.alert("The game has resumed...",1e3),await this.startTurns())}async alert(e,t=2e3){let n=await(new re).setParent(document.querySelector(".board-wrapper")).setInnerHTML(`<p>${e}</p>`).display(0);await se(t),await n.undisplay()}async diceRoll(e="Your",t=oe(6)){let n=document.createElement("p");n.innerHTML=`${e} Turn`;let r=document.createElement("div");r.className="dice",r.innerHTML=this.getRandomDiceSideHTML();let l=await(new re).appendChildren(n,r).setParent(document.querySelector(".board-wrapper")).display();for(let e=0;e<4;e++)await se(50*e),r.innerHTML=this.getRandomDiceSideHTML();return await se(200),r.innerHTML=this.getDiceSideHTML(t),await se(400),r.style.transform="scale(1.2)",await se(250),r.style.transform="scale(1)",await se(750),await l.undisplay(),t}end(){return this.started=!1,this.ended=!0,this.save(),this.emit("end"),this}},ce=Boolean(localStorage.getItem("ludo_data"));function de(e){let t,n,r,l,s,c,u,f,$,v,y,w,b,x,S,k,z;return s=new G({props:{code:e[1],i:1}}),u=new G({props:{code:e[1],i:2}}),$=new G({props:{code:e[1],i:3}}),y=new G({props:{code:e[1],i:4}}),{c(){t=d("div"),n=d("div"),r=d("div"),l=d("div"),O(s.$$.fragment),c=p(),O(u.$$.fragment),f=p(),O($.$$.fragment),v=p(),O(y.$$.fragment),h(l,"class","flex flex-wrap"),h(r,"class","prison-inner svelte-17tvo21"),g(r,"margin",e[4]+"px"),g(r,"width",e[3]+"px"),g(r,"height",e[3]+"px"),h(n,"class","prison-cover svelte-17tvo21"),h(n,"style",w="border-"+ne[e[1]]+"-radius: 8px;"),h(t,"class",b="prison "+(e[0]?"prison-selectable":"")+" svelte-17tvo21"),g(t,"width",e[2]+"px"),g(t,"height",e[2]+"px"),g(t,"--color","var(--"+e[1]+"-player)"),h(t,"id",x="prison-"+e[1])},m(a,d){i(a,t,d),o(t,n),o(n,r),o(r,l),D(s,l,null),o(l,c),D(u,l,null),o(l,f),D($,l,null),o(l,v),D(y,l,null),S=!0,k||(z=m(t,"click",e[6]),k=!0)},p(e,[l]){const o={};2&l&&(o.code=e[1]),s.$set(o);const i={};2&l&&(i.code=e[1]),u.$set(i);const a={};2&l&&(a.code=e[1]),$.$set(a);const c={};2&l&&(c.code=e[1]),y.$set(c),(!S||16&l)&&g(r,"margin",e[4]+"px"),(!S||8&l)&&g(r,"width",e[3]+"px"),(!S||8&l)&&g(r,"height",e[3]+"px"),(!S||2&l&&w!==(w="border-"+ne[e[1]]+"-radius: 8px;"))&&h(n,"style",w),(!S||1&l&&b!==(b="prison "+(e[0]?"prison-selectable":"")+" svelte-17tvo21"))&&h(t,"class",b),(!S||4&l)&&g(t,"width",e[2]+"px"),(!S||4&l)&&g(t,"height",e[2]+"px"),(!S||2&l)&&g(t,"--color","var(--"+e[1]+"-player)"),(!S||2&l&&x!==(x="prison-"+e[1]))&&h(t,"id",x)},i(e){S||(H(s.$$.fragment,e),H(u.$$.fragment,e),H($.$$.fragment,e),H(y.$$.fragment,e),S=!0)},o(e){U(s.$$.fragment,e),U(u.$$.fragment,e),U($.$$.fragment,e),U(y.$$.fragment,e),S=!1},d(e){e&&a(t),M(s),M(u),M($),M(y),k=!1,z()}}}function ue(e,t,n){let r,l,{code:s,cellSize:o,prisonSize:i,prisonSelectable:a}=t;ae.on(`${s}PrisonSelectable`,(()=>n(0,a=!a)));return e.$$set=e=>{"code"in e&&n(1,s=e.code),"cellSize"in e&&n(5,o=e.cellSize),"prisonSize"in e&&n(2,i=e.prisonSize),"prisonSelectable"in e&&n(0,a=e.prisonSelectable)},e.$$.update=()=>{44&e.$$.dirty&&(n(3,r=4*o+4),n(4,l=(i-r-10)/2))},[a,s,i,r,l,o,()=>{a&&ae.emit(`${s}Select`,"prison")}]}class pe extends j{constructor(e){super(),Y(this,e,ue,de,s,{code:1,cellSize:5,prisonSize:2,prisonSelectable:0})}}function fe(t){let n,r,l;return{c(){n=d("div"),h(n,"class","step svelte-14ca1mg"),h(n,"id",r="step-"+t[0]),h(n,"style",l=t[1]?`background-color: var(--${t[1]}-player);`:"")},m(e,t){i(e,n,t)},p(e,[t]){1&t&&r!==(r="step-"+e[0])&&h(n,"id",r),2&t&&l!==(l=e[1]?`background-color: var(--${e[1]}-player);`:"")&&h(n,"style",l)},i:e,o:e,d(e){e&&a(n)}}}function me(e,t,n){let{i:r}=t,{color:l=null}=t;return e.$$set=e=>{"i"in e&&n(0,r=e.i),"color"in e&&n(1,l=e.color)},[r,l]}class he extends j{constructor(e){super(),Y(this,e,me,fe,s,{i:0,color:1})}}function $e(e,t,n){const r=e.slice();return r[4]=t[n],r[6]=n,r}function ge(e,t,n){const r=e.slice();return r[4]=t[n],r[6]=n,r}function ve(e){let t,n,r,l;t=new he({props:{i:e[1],cellSize:e[0]}});let s=Array(5),o=[];for(let t=0;t<s.length;t+=1)o[t]=we($e(e,s,t));const d=e=>U(o[e],1,1,(()=>{o[e]=null}));return{c(){O(t.$$.fragment),n=p();for(let e=0;e<o.length;e+=1)o[e].c();r=f()},m(e,s){D(t,e,s),i(e,n,s);for(let t=0;t<o.length;t+=1)o[t].m(e,s);i(e,r,s),l=!0},p(e,n){const l={};if(2&n&&(l.i=e[1]),1&n&&(l.cellSize=e[0]),t.$set(l),10&n){let t;for(s=Array(5),t=0;t<s.length;t+=1){const l=$e(e,s,t);o[t]?(o[t].p(l,n),H(o[t],1)):(o[t]=we(l),o[t].c(),H(o[t],1),o[t].m(r.parentNode,r))}for(A(),t=s.length;t<o.length;t+=1)d(t);B()}},i(e){if(!l){H(t.$$.fragment,e);for(let e=0;e<s.length;e+=1)H(o[e]);l=!0}},o(e){U(t.$$.fragment,e),o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)U(o[e]);l=!1},d(e){M(t,e),e&&a(n),c(o,e),e&&a(r)}}}function ye(e){let t,n,r=Array(6),l=[];for(let t=0;t<r.length;t+=1)l[t]=be(ge(e,r,t));const s=e=>U(l[e],1,1,(()=>{l[e]=null}));return{c(){for(let e=0;e<l.length;e+=1)l[e].c();t=f()},m(e,r){for(let t=0;t<l.length;t+=1)l[t].m(e,r);i(e,t,r),n=!0},p(e,n){if(3&n){let o;for(r=Array(6),o=0;o<r.length;o+=1){const s=ge(e,r,o);l[o]?(l[o].p(s,n),H(l[o],1)):(l[o]=be(s),l[o].c(),H(l[o],1),l[o].m(t.parentNode,t))}for(A(),o=r.length;o<l.length;o+=1)s(o);B()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)H(l[e]);n=!0}},o(e){l=l.filter(Boolean);for(let e=0;e<l.length;e+=1)U(l[e]);n=!1},d(e){c(l,e),e&&a(t)}}}function we(e){let t,n;return t=new he({props:{i:e[1]+e[6]+1,color:e[3]}}),{c(){O(t.$$.fragment)},m(e,r){D(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.i=e[1]+e[6]+1),8&n&&(r.color=e[3]),t.$set(r)},i(e){n||(H(t.$$.fragment,e),n=!0)},o(e){U(t.$$.fragment,e),n=!1},d(e){M(t,e)}}}function be(e){let t,n;return t=new he({props:{i:e[1]+e[6],cellSize:e[0]}}),{c(){O(t.$$.fragment)},m(e,r){D(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.i=e[1]+e[6]),1&n&&(r.cellSize=e[0]),t.$set(r)},i(e){n||(H(t.$$.fragment,e),n=!0)},o(e){U(t.$$.fragment,e),n=!1},d(e){M(t,e)}}}function xe(e){let t,n,r,l,s;const o=[ye,ve],c=[];function u(e,t){return e[3]?1:0}return n=u(e),r=c[n]=o[n](e),{c(){t=d("div"),r.c(),h(t,"class",l="flex flex-nowrap flex-"+e[2])},m(e,r){i(e,t,r),c[n].m(t,null),s=!0},p(e,[i]){let a=n;n=u(e),n===a?c[n].p(e,i):(A(),U(c[a],1,1,(()=>{c[a]=null})),B(),r=c[n],r?r.p(e,i):(r=c[n]=o[n](e),r.c()),H(r,1),r.m(t,null)),(!s||4&i&&l!==(l="flex flex-nowrap flex-"+e[2]))&&h(t,"class",l)},i(e){s||(H(r),s=!0)},o(e){U(r),s=!1},d(e){e&&a(t),c[n].d()}}}function Se(e,t,n){let{cellSize:r,offsetIndex:l}=t,{flexDirection:s="row"}=t,{color:o=null}=t;return e.$$set=e=>{"cellSize"in e&&n(0,r=e.cellSize),"offsetIndex"in e&&n(1,l=e.offsetIndex),"flexDirection"in e&&n(2,s=e.flexDirection),"color"in e&&n(3,o=e.color)},[r,l,s,o]}class ke extends j{constructor(e){super(),Y(this,e,Se,xe,s,{cellSize:0,offsetIndex:1,flexDirection:2,color:3})}}function ze(t){let n;return{c(){n=d("div"),h(n,"class","triangle svelte-1n4h48y"),g(n,"background-color","var(--"+t[0]+"-player)"),g(n,"height",t[1]/2+"px"),g(n,"width",t[1]+"px"),g(n,"margin-top",t[3]+"px"),g(n,"margin-right",t[4]+"px"),g(n,"margin-left",t[5]+"px"),g(n,"margin-bottom",t[6]+"px"),g(n,"--rotate",90*t[2]+"deg")},m(e,t){i(e,n,t)},p(e,[t]){1&t&&g(n,"background-color","var(--"+e[0]+"-player)"),2&t&&g(n,"height",e[1]/2+"px"),2&t&&g(n,"width",e[1]+"px"),8&t&&g(n,"margin-top",e[3]+"px"),16&t&&g(n,"margin-right",e[4]+"px"),32&t&&g(n,"margin-left",e[5]+"px"),64&t&&g(n,"margin-bottom",e[6]+"px"),4&t&&g(n,"--rotate",90*e[2]+"deg")},i:e,o:e,d(e){e&&a(n)}}}function Ce(e,t,n){let{color:r,gameHomeSize:l,i:s}=t,{top:o=0,right:i=0,left:a=0,bottom:c=0}=t;return e.$$set=e=>{"color"in e&&n(0,r=e.color),"gameHomeSize"in e&&n(1,l=e.gameHomeSize),"i"in e&&n(2,s=e.i),"top"in e&&n(3,o=e.top),"right"in e&&n(4,i=e.right),"left"in e&&n(5,a=e.left),"bottom"in e&&n(6,c=e.bottom)},[r,l,s,o,i,a,c]}class Ne extends j{constructor(e){super(),Y(this,e,Ce,ze,s,{color:0,gameHomeSize:1,i:2,top:3,right:4,left:5,bottom:6})}}function Pe(e){let t,n,r,l,s,c,u,f,m,$,v,y,w,b,x,S,k,z,C,N,P,L,R,E,T,I,_,A,B,q,Y,j,F,J,G,W,K,Q,V,X,Z,ee,te,ne,re,le,se,oe,ie,ae;return s=new pe({props:{code:"red",cellSize:e[1],prisonSize:e[2]}}),u=new ke({props:{cellSize:e[1],offsetIndex:1,flexDirection:"column"}}),m=new ke({props:{cellSize:e[1],offsetIndex:7,flexDirection:"column",color:"blue"}}),v=new ke({props:{cellSize:e[1],offsetIndex:13,flexDirection:"column"}}),w=new pe({props:{code:"blue",cellSize:e[1],prisonSize:e[2]}}),k=new ke({props:{cellSize:e[1],offsetIndex:19}}),C=new ke({props:{cellSize:e[1],offsetIndex:25,color:"red"}}),P=new ke({props:{cellSize:e[1],offsetIndex:31}}),T=new Ne({props:{color:"green",i:0,top:e[3]/2,gameHomeSize:e[3]}}),_=new Ne({props:{color:"red",i:1,top:e[3]/4,left:-e[3]/4,gameHomeSize:e[3]}}),B=new Ne({props:{color:"blue",i:2,gameHomeSize:e[3]}}),Y=new Ne({props:{color:"yellow",i:3,top:e[3]/4,left:e[3]/4,gameHomeSize:e[3]}}),J=new ke({props:{cellSize:e[1],offsetIndex:37,flexDirection:"row-r"}}),W=new ke({props:{cellSize:e[1],offsetIndex:43,flexDirection:"row-r",color:"yellow"}}),Q=new ke({props:{cellSize:e[1],offsetIndex:49,flexDirection:"row-r"}}),Z=new pe({props:{code:"green",cellSize:e[1],prisonSize:e[2]}}),te=new ke({props:{cellSize:e[1],offsetIndex:55,flexDirection:"column-r"}}),re=new ke({props:{cellSize:e[1],offsetIndex:61,flexDirection:"column-r",color:"green"}}),se=new ke({props:{cellSize:e[1],offsetIndex:67,flexDirection:"column-r"}}),ie=new pe({props:{code:"yellow",cellSize:e[1],prisonSize:e[2]}}),{c(){t=d("div"),n=d("div"),r=d("div"),l=d("div"),O(s.$$.fragment),c=p(),O(u.$$.fragment),f=p(),O(m.$$.fragment),$=p(),O(v.$$.fragment),y=p(),O(w.$$.fragment),b=p(),x=d("div"),S=d("div"),O(k.$$.fragment),z=p(),O(C.$$.fragment),N=p(),O(P.$$.fragment),L=p(),R=d("div"),E=d("div"),O(T.$$.fragment),I=p(),O(_.$$.fragment),A=p(),O(B.$$.fragment),q=p(),O(Y.$$.fragment),j=p(),F=d("div"),O(J.$$.fragment),G=p(),O(W.$$.fragment),K=p(),O(Q.$$.fragment),V=p(),X=d("div"),O(Z.$$.fragment),ee=p(),O(te.$$.fragment),ne=p(),O(re.$$.fragment),le=p(),O(se.$$.fragment),oe=p(),O(ie.$$.fragment),h(l,"class","flex flex-nowrap"),g(E,"z-index","6"),g(R,"width",e[3]+"px"),h(R,"class","game-home svelte-18xkrso"),h(x,"class","flex flex-nowrap"),h(X,"class","flex flex-nowrap"),h(r,"class","board-inner w-full"),h(n,"class","board w-full h-full svelte-18xkrso"),h(t,"class","board-wrapper svelte-18xkrso"),g(t,"--board-width",e[0]+"px"),g(t,"--board-height",e[0]+"px"),g(t,"--cell-size",e[1]+"px")},m(e,a){i(e,t,a),o(t,n),o(n,r),o(r,l),D(s,l,null),o(l,c),D(u,l,null),o(l,f),D(m,l,null),o(l,$),D(v,l,null),o(l,y),D(w,l,null),o(r,b),o(r,x),o(x,S),D(k,S,null),o(S,z),D(C,S,null),o(S,N),D(P,S,null),o(x,L),o(x,R),o(R,E),D(T,E,null),o(E,I),D(_,E,null),o(E,A),D(B,E,null),o(E,q),D(Y,E,null),o(x,j),o(x,F),D(J,F,null),o(F,G),D(W,F,null),o(F,K),D(Q,F,null),o(r,V),o(r,X),D(Z,X,null),o(X,ee),D(te,X,null),o(X,ne),D(re,X,null),o(X,le),D(se,X,null),o(X,oe),D(ie,X,null),ae=!0},p(e,[n]){const r={};2&n&&(r.cellSize=e[1]),4&n&&(r.prisonSize=e[2]),s.$set(r);const l={};2&n&&(l.cellSize=e[1]),u.$set(l);const o={};2&n&&(o.cellSize=e[1]),m.$set(o);const i={};2&n&&(i.cellSize=e[1]),v.$set(i);const a={};2&n&&(a.cellSize=e[1]),4&n&&(a.prisonSize=e[2]),w.$set(a);const c={};2&n&&(c.cellSize=e[1]),k.$set(c);const d={};2&n&&(d.cellSize=e[1]),C.$set(d);const p={};2&n&&(p.cellSize=e[1]),P.$set(p);const f={};8&n&&(f.top=e[3]/2),8&n&&(f.gameHomeSize=e[3]),T.$set(f);const h={};8&n&&(h.top=e[3]/4),8&n&&(h.left=-e[3]/4),8&n&&(h.gameHomeSize=e[3]),_.$set(h);const $={};8&n&&($.gameHomeSize=e[3]),B.$set($);const y={};8&n&&(y.top=e[3]/4),8&n&&(y.left=e[3]/4),8&n&&(y.gameHomeSize=e[3]),Y.$set(y),(!ae||8&n)&&g(R,"width",e[3]+"px");const b={};2&n&&(b.cellSize=e[1]),J.$set(b);const x={};2&n&&(x.cellSize=e[1]),W.$set(x);const S={};2&n&&(S.cellSize=e[1]),Q.$set(S);const z={};2&n&&(z.cellSize=e[1]),4&n&&(z.prisonSize=e[2]),Z.$set(z);const N={};2&n&&(N.cellSize=e[1]),te.$set(N);const L={};2&n&&(L.cellSize=e[1]),re.$set(L);const E={};2&n&&(E.cellSize=e[1]),se.$set(E);const I={};2&n&&(I.cellSize=e[1]),4&n&&(I.prisonSize=e[2]),ie.$set(I),(!ae||1&n)&&g(t,"--board-width",e[0]+"px"),(!ae||1&n)&&g(t,"--board-height",e[0]+"px"),(!ae||2&n)&&g(t,"--cell-size",e[1]+"px")},i(e){ae||(H(s.$$.fragment,e),H(u.$$.fragment,e),H(m.$$.fragment,e),H(v.$$.fragment,e),H(w.$$.fragment,e),H(k.$$.fragment,e),H(C.$$.fragment,e),H(P.$$.fragment,e),H(T.$$.fragment,e),H(_.$$.fragment,e),H(B.$$.fragment,e),H(Y.$$.fragment,e),H(J.$$.fragment,e),H(W.$$.fragment,e),H(Q.$$.fragment,e),H(Z.$$.fragment,e),H(te.$$.fragment,e),H(re.$$.fragment,e),H(se.$$.fragment,e),H(ie.$$.fragment,e),ae=!0)},o(e){U(s.$$.fragment,e),U(u.$$.fragment,e),U(m.$$.fragment,e),U(v.$$.fragment,e),U(w.$$.fragment,e),U(k.$$.fragment,e),U(C.$$.fragment,e),U(P.$$.fragment,e),U(T.$$.fragment,e),U(_.$$.fragment,e),U(B.$$.fragment,e),U(Y.$$.fragment,e),U(J.$$.fragment,e),U(W.$$.fragment,e),U(Q.$$.fragment,e),U(Z.$$.fragment,e),U(te.$$.fragment,e),U(re.$$.fragment,e),U(se.$$.fragment,e),U(ie.$$.fragment,e),ae=!1},d(e){e&&a(t),M(s),M(u),M(m),M(v),M(w),M(k),M(C),M(P),M(T),M(_),M(B),M(Y),M(J),M(W),M(Q),M(Z),M(te),M(re),M(se),M(ie)}}}function Le(e,t,n){let r,l,s,o;function i(){let e=document.getElementById("wrap");n(0,r=Math.min(e.clientHeight,e.clientWidth))}return b((()=>{i(),ae.onWindowLoad(),window.addEventListener("resize",i)})),e.$$.update=()=>{3&e.$$.dirty&&(n(1,l=(r-70)/15),n(2,s=6*l+24),n(3,o=3*l+8))},[r,l,s,o]}class Re extends j{constructor(e){super(),Y(this,e,Le,Pe,s,{})}}function Ee(e){let t,n,r,l,s,c,f,v,y,w,b,x,S,k,z,C,N,P,L,R,E,T,I,_,A,B,H,U,O,D,M,q,Y,j,F,J,G,W=e[4].coinsOutside+"",K=e[4].coinsAtStart+"",Q=e[4].coinsReached+"",V=e[4].kills+"",X=e[4].type.toUpperCase()+"",Z=!e[2]&&Te(e),ee=e[4].rank&&Ae(e);return{c(){t=d("div"),n=d("div"),r=d("input"),c=p(),f=d("div"),v=d("p"),v.textContent="Coins Outside:",y=p(),w=d("p"),b=u(W),x=d("br"),S=p(),k=d("p"),k.textContent="Coins At Start:",z=p(),C=d("p"),N=u(K),P=d("br"),L=p(),R=d("p"),R.textContent="Coins Reached:",E=p(),T=d("p"),I=u(Q),_=d("br"),A=p(),B=d("p"),B.textContent="Kills:",H=p(),U=d("p"),O=u(V),D=d("br"),M=p(),q=d("p"),Y=u(X),j=p(),Z&&Z.c(),F=p(),ee&&ee.c(),h(r,"class","player-input svelte-1wbaxy"),h(r,"type","text"),r.value=l=e[4].name.slice(0,10),r.readOnly=s=!e[3],h(n,"class","head"),g(n,"background-color","var(--"+e[0]+"-player)"),h(v,"class","inline-block strong svelte-1wbaxy"),h(w,"class","inline-block svelte-1wbaxy"),h(k,"class","inline-block strong svelte-1wbaxy"),h(C,"class","inline-block svelte-1wbaxy"),h(R,"class","inline-block strong svelte-1wbaxy"),h(T,"class","inline-block svelte-1wbaxy"),h(B,"class","inline-block strong svelte-1wbaxy"),h(U,"class","inline-block svelte-1wbaxy"),h(q,"class","sub-label svelte-1wbaxy"),h(f,"class","foot"),h(t,"class","player-tab svelte-1wbaxy")},m(l,s){i(l,t,s),o(t,n),o(n,r),o(t,c),o(t,f),o(f,v),o(f,y),o(f,w),o(w,b),o(f,x),o(f,S),o(f,k),o(f,z),o(f,C),o(C,N),o(f,P),o(f,L),o(f,R),o(f,E),o(f,T),o(T,I),o(f,_),o(f,A),o(f,B),o(f,H),o(f,U),o(U,O),o(f,D),o(f,M),o(f,q),o(q,Y),o(f,j),Z&&Z.m(f,null),o(f,F),ee&&ee.m(f,null),J||(G=m(r,"blur",e[7]),J=!0)},p(e,t){16&t&&l!==(l=e[4].name.slice(0,10))&&r.value!==l&&(r.value=l),8&t&&s!==(s=!e[3])&&(r.readOnly=s),1&t&&g(n,"background-color","var(--"+e[0]+"-player)"),16&t&&W!==(W=e[4].coinsOutside+"")&&$(b,W),16&t&&K!==(K=e[4].coinsAtStart+"")&&$(N,K),16&t&&Q!==(Q=e[4].coinsReached+"")&&$(I,Q),16&t&&V!==(V=e[4].kills+"")&&$(O,V),16&t&&X!==(X=e[4].type.toUpperCase()+"")&&$(Y,X),e[2]?Z&&(Z.d(1),Z=null):Z?Z.p(e,t):(Z=Te(e),Z.c(),Z.m(f,F)),e[4].rank?ee?ee.p(e,t):(ee=Ae(e),ee.c(),ee.m(f,null)):ee&&(ee.d(1),ee=null)},d(e){e&&a(t),Z&&Z.d(),ee&&ee.d(),J=!1,G()}}}function Te(e){let t;function n(e,t){return!e[1]&&e[3]?_e:e[5]?Ie:void 0}let r=n(e),l=r&&r(e);return{c(){l&&l.c(),t=f()},m(e,n){l&&l.m(e,n),i(e,t,n)},p(e,s){r===(r=n(e))&&l?l.p(e,s):(l&&l.d(1),l=r&&r(e),l&&(l.c(),l.m(t.parentNode,t)))},d(e){l&&l.d(e),e&&a(t)}}}function Ie(t){let n;return{c(){n=d("p"),n.textContent="CURRENT TURN",h(n,"class","sub-label svelte-1wbaxy")},m(e,t){i(e,n,t)},p:e,d(e){e&&a(n)}}}function _e(e){let t,n,r,l,s,c,p=e[4].type.toProperCase()+"";return{c(){t=d("a"),n=u("Remove "),r=u(p),l=u("?"),h(t,"href","#wrap")},m(a,d){i(a,t,d),o(t,n),o(t,r),o(t,l),s||(c=m(t,"click",e[6]),s=!0)},p(e,t){16&t&&p!==(p=e[4].type.toProperCase()+"")&&$(r,p)},d(e){e&&a(t),s=!1,c()}}}function Ae(e){let t,n,r,l=ie(e[4].rank)+"";return{c(){t=d("p"),n=u(l),r=u(" Place"),h(t,"class","sub-label svelte-1wbaxy")},m(e,l){i(e,t,l),o(t,n),o(t,r)},p(e,t){16&t&&l!==(l=ie(e[4].rank)+"")&&$(n,l)},d(e){e&&a(t)}}}function Be(t){let n,r=!t[4].isNull&&Ee(t);return{c(){r&&r.c(),n=f()},m(e,t){r&&r.m(e,t),i(e,n,t)},p(e,[t]){e[4].isNull?r&&(r.d(1),r=null):r?r.p(e,t):(r=Ee(e),r.c(),r.m(n.parentNode,n))},i:e,o:e,d(e){r&&r.d(e),e&&a(n)}}}function He(e,t,n){let{color:r,started:l,ended:s}=t,{editable:o=!0}=t,i=ae.players[r],a=!1;o&&(ae.on(`${r}Update`,(()=>n(4,i=ae.players[r]))),ae.on("turn",(e=>n(5,a=e==r))));return e.$$set=e=>{"color"in e&&n(0,r=e.color),"started"in e&&n(1,l=e.started),"ended"in e&&n(2,s=e.ended),"editable"in e&&n(3,o=e.editable)},[r,l,s,o,i,a,function(){ae.deletePlayer(r)||ae.alert("You cannot remove yourself from the game!")},e=>{o&&(ae.updatePlayerName(r,e.target.value),ae.alert("Name updated",1e3))}]}class Ue extends j{constructor(e){super(),Y(this,e,He,Be,s,{color:0,started:1,ended:2,editable:3})}}function Oe(t){let n,l,s,c,u,f,$,v,y;return{c(){n=d("div"),l=d("div"),l.innerHTML='<h3 class="svelte-4moyru">Add</h3>',s=p(),c=d("div"),u=d("a"),u.textContent="Add Player?",f=p(),$=d("a"),$.textContent="Add Bot?",h(l,"class","head"),g(l,"background-color","var(--dull-player)"),h(u,"href","#wrap"),h($,"href","#wrap"),h(c,"class","foot"),h(n,"class","player-tab svelte-4moyru")},m(e,r){i(e,n,r),o(n,l),o(n,s),o(n,c),o(c,u),o(c,f),o(c,$),v||(y=[m(u,"click",t[2]),m($,"click",t[3])],v=!0)},p:e,d(e){e&&a(n),v=!1,r(y)}}}function De(t){let n,r=!t[0]&&t[1]&&Oe(t);return{c(){r&&r.c(),n=f()},m(e,t){r&&r.m(e,t),i(e,n,t)},p(e,[t]){!e[0]&&e[1]?r?r.p(e,t):(r=Oe(e),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},i:e,o:e,d(e){r&&r.d(e),e&&a(n)}}}function Me(e,t,n){let{started:r}=t;const l=()=>n(1,s=4!=ae.playerCount);let s=4!=ae.playerCount;ae.on("playerCountUpdate",l),ae.on("end",l);return e.$$set=e=>{"started"in e&&n(0,r=e.started)},[r,s,()=>{ae.createPlayer()||ae.alert("Player limit has been reached...")},()=>{ae.createPlayer(!0)||ae.alert("Player limit has been reached...")}]}class qe extends j{constructor(e){super(),Y(this,e,Me,De,s,{started:0})}}function Ye(e,t,n){const r=e.slice();return r[3]=t[n],r}function je(t){let n,r,l,s,u,f,$,g,v,y,w,b,x,S,k=ae.ranks.length&&function(t){let n;return{c(){n=d("p"),n.textContent=`${ae.ranks[0].name} has won the game!`,h(n,"class","svelte-1572n2l")},m(e,t){i(e,n,t)},p:e,d(e){e&&a(n)}}}(),z=ae.ranks,C=[];for(let e=0;e<z.length;e+=1)C[e]=Fe(Ye(t,z,e));const N=e=>U(C[e],1,1,(()=>{C[e]=null}));return{c(){n=d("div"),r=p(),l=d("div"),s=d("h3"),s.textContent="Result",u=p(),k&&k.c(),f=p(),$=d("h5"),$.textContent="Rankings",g=p(),v=d("div");for(let e=0;e<C.length;e+=1)C[e].c();y=p(),w=d("a"),w.textContent="Close Tab",h(n,"class","result-wrap svelte-1572n2l"),h(s,"class","svelte-1572n2l"),h($,"class","svelte-1572n2l"),h(v,"class","result-players-tab svelte-1572n2l"),h(w,"href","#wrap"),h(w,"class","svelte-1572n2l"),h(l,"class","result-tab svelte-1572n2l")},m(e,a){i(e,n,a),i(e,r,a),i(e,l,a),o(l,s),o(l,u),k&&k.m(l,null),o(l,f),o(l,$),o(l,g),o(l,v);for(let e=0;e<C.length;e+=1)C[e].m(v,null);o(l,y),o(l,w),b=!0,x||(S=m(w,"click",t[2]),x=!0)},p(e,t){if(ae.ranks.length&&k.p(e,t),1&t){let n;for(z=ae.ranks,n=0;n<z.length;n+=1){const r=Ye(e,z,n);C[n]?(C[n].p(r,t),H(C[n],1)):(C[n]=Fe(r),C[n].c(),H(C[n],1),C[n].m(v,null))}for(A(),n=z.length;n<C.length;n+=1)N(n);B()}},i(e){if(!b){for(let e=0;e<z.length;e+=1)H(C[e]);b=!0}},o(e){C=C.filter(Boolean);for(let e=0;e<C.length;e+=1)U(C[e]);b=!1},d(e){e&&a(n),e&&a(r),e&&a(l),k&&k.d(),c(C,e),x=!1,S()}}}function Fe(e){let t,n;return t=new Ue({props:{color:e[3].color,editable:!1,started:e[0]}}),{c(){O(t.$$.fragment)},m(e,r){D(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.started=e[0]),t.$set(r)},i(e){n||(H(t.$$.fragment,e),n=!0)},o(e){U(t.$$.fragment,e),n=!1},d(e){M(t,e)}}}function Je(e){let t,n,r=e[1]&&je(e);return{c(){r&&r.c(),t=f()},m(e,l){r&&r.m(e,l),i(e,t,l),n=!0},p(e,[n]){e[1]?r?(r.p(e,n),2&n&&H(r,1)):(r=je(e),r.c(),H(r,1),r.m(t.parentNode,t)):r&&(A(),U(r,1,1,(()=>{r=null})),B())},i(e){n||(H(r),n=!0)},o(e){U(r),n=!1},d(e){r&&r.d(e),e&&a(t)}}}function Ge(e,t,n){let{started:r}=t,l=!1;ae.on("displayResult",(()=>n(1,l=!0)));return e.$$set=e=>{"started"in e&&n(0,r=e.started)},[r,l,()=>n(1,l=!1)]}class We extends j{constructor(e){super(),Y(this,e,Ge,Je,s,{started:0})}}function Ke(t){let n,l,s,o,c,u,f;return{c(){n=d("a"),n.textContent="Roll Dice",l=p(),s=d("a"),s.textContent="Save Game",o=p(),c=d("a"),c.textContent="New Game",h(n,"class","player-tab-btn svelte-1y8ugt6"),h(n,"href","#wrap"),h(s,"class","player-tab-btn svelte-1y8ugt6"),h(s,"href","#wrap"),h(c,"class","player-tab-btn svelte-1y8ugt6"),h(c,"href","#wrap")},m(e,r){i(e,n,r),i(e,l,r),i(e,s,r),i(e,o,r),i(e,c,r),u||(f=[m(n,"click",t[6]),m(s,"click",t[7]),m(c,"click",t[8])],u=!0)},p:e,d(e){e&&a(n),e&&a(l),e&&a(s),e&&a(o),e&&a(c),u=!1,r(f)}}}function Qe(e){let t,n,r,l,s,o=ce&&!e[3]&&Ve(e);return{c(){t=d("a"),t.textContent="New Game",n=p(),o&&o.c(),r=f(),h(t,"class","player-tab-btn svelte-1y8ugt6"),h(t,"href","#wrap")},m(a,c){i(a,t,c),i(a,n,c),o&&o.m(a,c),i(a,r,c),l||(s=m(t,"click",e[4]),l=!0)},p(e,t){ce&&!e[3]?o?o.p(e,t):(o=Ve(e),o.c(),o.m(r.parentNode,r)):o&&(o.d(1),o=null)},d(e){e&&a(t),e&&a(n),o&&o.d(e),e&&a(r),l=!1,s()}}}function Ve(t){let n,r,l;return{c(){n=d("a"),n.textContent="Resume Game",h(n,"class","player-tab-btn svelte-1y8ugt6"),h(n,"href","#wrap")},m(e,s){i(e,n,s),r||(l=m(n,"click",t[5]),r=!0)},p:e,d(e){e&&a(n),r=!1,l()}}}function Xe(t){let n,r,l;return{c(){n=d("a"),n.textContent="Results",h(n,"class","player-tab-btn svelte-1y8ugt6"),h(n,"href","#wrap")},m(e,s){i(e,n,s),r||(l=m(n,"click",t[9]),r=!0)},p:e,d(e){e&&a(n),r=!1,l()}}}function Ze(e){let t,n,r,l,s,c,u,f,m,$,g,y,w,b,x,S,k,z,C,N,P,L;function R(e,t){return e[2]?Ke:Qe}r=new We({props:{started:e[2]}}),c=new Re({}),$=new Ue({props:{color:"red",started:e[2],ended:e[3]}}),y=new Ue({props:{color:"yellow",started:e[2],ended:e[3]}}),b=new Ue({props:{color:"blue",started:e[2],ended:e[3]}}),S=new Ue({props:{color:"green",started:e[2],ended:e[3]}}),z=new qe({props:{started:e[2]}});let E=R(e),T=E(e),I=e[1]&&Xe(e);return{c(){t=d("div"),n=p(),O(r.$$.fragment),l=p(),s=d("div"),O(c.$$.fragment),u=p(),f=d("div"),m=d("div"),O($.$$.fragment),g=p(),O(y.$$.fragment),w=p(),O(b.$$.fragment),x=p(),O(S.$$.fragment),k=p(),O(z.$$.fragment),C=p(),N=d("div"),T.c(),P=p(),I&&I.c(),h(t,"class","wrap svelte-1y8ugt6"),h(t,"id","wrap"),h(m,"class","flex flex-wrap"),h(N,"class","flex flex-wrap"),h(f,"class","players-tab svelte-1y8ugt6"),h(s,"class","flex svelte-1y8ugt6"),v(s,"mobile-view",e[0])},m(e,a){i(e,t,a),i(e,n,a),D(r,e,a),i(e,l,a),i(e,s,a),D(c,s,null),o(s,u),o(s,f),o(f,m),D($,m,null),o(m,g),D(y,m,null),o(m,w),D(b,m,null),o(m,x),D(S,m,null),o(m,k),D(z,m,null),o(f,C),o(f,N),T.m(N,null),o(N,P),I&&I.m(N,null),L=!0},p(e,[t]){const n={};4&t&&(n.started=e[2]),r.$set(n);const l={};4&t&&(l.started=e[2]),8&t&&(l.ended=e[3]),$.$set(l);const o={};4&t&&(o.started=e[2]),8&t&&(o.ended=e[3]),y.$set(o);const i={};4&t&&(i.started=e[2]),8&t&&(i.ended=e[3]),b.$set(i);const a={};4&t&&(a.started=e[2]),8&t&&(a.ended=e[3]),S.$set(a);const c={};4&t&&(c.started=e[2]),z.$set(c),E===(E=R(e))&&T?T.p(e,t):(T.d(1),T=E(e),T&&(T.c(),T.m(N,P))),e[1]?I?I.p(e,t):(I=Xe(e),I.c(),I.m(N,null)):I&&(I.d(1),I=null),1&t&&v(s,"mobile-view",e[0])},i(e){L||(H(r.$$.fragment,e),H(c.$$.fragment,e),H($.$$.fragment,e),H(y.$$.fragment,e),H(b.$$.fragment,e),H(S.$$.fragment,e),H(z.$$.fragment,e),L=!0)},o(e){U(r.$$.fragment,e),U(c.$$.fragment,e),U($.$$.fragment,e),U(y.$$.fragment,e),U(b.$$.fragment,e),U(S.$$.fragment,e),U(z.$$.fragment,e),L=!1},d(e){e&&a(t),e&&a(n),M(r,e),e&&a(l),e&&a(s),M(c),M($),M(y),M(b),M(S),M(z),T.d(),I&&I.d()}}}function et(e,t,n){let r=!1,l=!1,s=ae.started,o=ae.ended;function i(){let e=document.getElementById("wrap");n(0,r=e.clientWidth<2*e.clientHeight)}ae.on("start",(()=>n(2,s=!0))),ae.on("canDisplayResults",(()=>n(1,l=!0))),ae.on("end",(()=>{n(1,l=!0),n(3,o=!0),ae.emit("displayResult")})),b((()=>{i(),window.addEventListener("resize",i)}));return[r,l,s,o,async()=>{if(ce&&!confirm("Are you sure? Your old game data might be deleted!"))return;await ae.start()||ae.alert("Minimum two players are required.",1e3)},()=>ae.startFromSaved(),()=>ae.emit("diceRoll"),()=>ae.save(),()=>{confirm("Are you sure? Your old game data might be deleted!")&&(ae.clearSaved(),window.location.href="?game")},()=>ae.emit("displayResult")]}class tt extends j{constructor(e){super(),Y(this,e,et,Ze,s,{})}}function nt(t){let n;return{c(){n=d("div"),n.innerHTML='<h1 class="m-0 svelte-1qrebkq">Ludo</h1> \n\t\t<p class="m-0 svelte-1qrebkq">An awesome site to play ludo singleplayer for fun even with bots!</p> \n\n\t\t<a href="?game" class="cover-btn svelte-1qrebkq">Lets play!</a> \n\t\t<p class="credits m-0 svelte-1qrebkq">Made by <a href="https://github.com/scientific-dev" class="svelte-1qrebkq">scientific-dev</a></p>',h(n,"class","cover svelte-1qrebkq")},m(e,t){i(e,n,t)},i:e,o:e,d(e){e&&a(n)}}}function rt(e){let t,n;return t=new tt({}),{c(){O(t.$$.fragment)},m(e,r){D(t,e,r),n=!0},i(e){n||(H(t.$$.fragment,e),n=!0)},o(e){U(t.$$.fragment,e),n=!1},d(e){M(t,e)}}}function lt(t){let n,r,l,s,o,c;const u=[rt,nt],m=[];return l=function(e,t){return e[0]?0:1}(t),s=m[l]=u[l](t),{c(){n=d("div"),r=p(),s.c(),o=f(),h(n,"class","bg-cover svelte-1qrebkq")},m(e,t){i(e,n,t),i(e,r,t),m[l].m(e,t),i(e,o,t),c=!0},p:e,i(e){c||(H(s),c=!0)},o(e){U(s),c=!1},d(e){e&&a(n),e&&a(r),m[l].d(e),e&&a(o)}}}function st(e){return[new URLSearchParams(window.location.search).has("game")]}return new class extends j{constructor(e){super(),Y(this,e,st,lt,s,{})}}({target:document.body})}();
