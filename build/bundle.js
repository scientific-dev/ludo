var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function r(e){e.forEach(t)}function l(e){return"function"==typeof e}function s(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function o(e,t){e.appendChild(t)}function i(e,t,n){e.insertBefore(t,n||null)}function a(e){e.parentNode.removeChild(e)}function c(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function d(e){return document.createElement(e)}function u(e){return document.createTextNode(e)}function p(){return u(" ")}function f(){return u("")}function m(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function h(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function $(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function g(e,t,n,r){e.style.setProperty(t,n,r?"important":"")}function v(e,t,n){e.classList[n?"add":"remove"](t)}let y;function w(e){y=e}function b(e){(function(){if(!y)throw new Error("Function called outside component initialization");return y})().$$.on_mount.push(e)}const x=[],S=[],k=[],z=[],N=Promise.resolve();let C=!1;function P(e){k.push(e)}const L=new Set;let T=0;function E(){const e=y;do{for(;T<x.length;){const e=x[T];T++,w(e),I(e.$$)}for(w(null),x.length=0,T=0;S.length;)S.pop()();for(let e=0;e<k.length;e+=1){const t=k[e];L.has(t)||(L.add(t),t())}k.length=0}while(x.length);for(;z.length;)z.pop()();C=!1,L.clear(),w(e)}function I(e){if(null!==e.fragment){e.update(),r(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(P)}}const R=new Set;let _;function H(){_={r:0,c:[],p:_}}function A(){_.r||r(_.c),_=_.p}function O(e,t){e&&e.i&&(R.delete(e),e.i(t))}function B(e,t,n,r){if(e&&e.o){if(R.has(e))return;R.add(e),_.c.push((()=>{R.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}}function D(e){e&&e.c()}function M(e,n,s,o){const{fragment:i,on_mount:a,on_destroy:c,after_update:d}=e.$$;i&&i.m(n,s),o||P((()=>{const n=a.map(t).filter(l);c?c.push(...n):r(n),e.$$.on_mount=[]})),d.forEach(P)}function U(e,t){const n=e.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function q(e,t){-1===e.$$.dirty[0]&&(x.push(e),C||(C=!0,N.then(E)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function j(t,l,s,o,i,c,d,u=[-1]){const p=y;w(t);const f=t.$$={fragment:null,ctx:null,props:c,update:e,not_equal:i,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(l.context||(p?p.$$.context:[])),callbacks:n(),dirty:u,skip_bound:!1,root:l.target||p.$$.root};d&&d(f.root);let m=!1;if(f.ctx=s?s(t,l.props||{},((e,n,...r)=>{const l=r.length?r[0]:n;return f.ctx&&i(f.ctx[e],f.ctx[e]=l)&&(!f.skip_bound&&f.bound[e]&&f.bound[e](l),m&&q(t,e)),n})):[],f.update(),m=!0,r(f.before_update),f.fragment=!!o&&o(f.ctx),l.target){if(l.hydrate){const e=function(e){return Array.from(e.childNodes)}(l.target);f.fragment&&f.fragment.l(e),e.forEach(a)}else f.fragment&&f.fragment.c();l.intro&&O(t.$$.fragment),M(t,l.target,l.anchor,l.customElement),E()}w(p)}class F{$destroy(){U(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function Y(t){let n,r;return{c(){n=d("div"),h(n,"class","coin svelte-1oo0wzo"),h(n,"id",r="coin-"+t[0]+"-"+t[1]),g(n,"background-color","var(--"+t[0]+"-player)")},m(e,t){i(e,n,t)},p(e,[t]){3&t&&r!==(r="coin-"+e[0]+"-"+e[1])&&h(n,"id",r),1&t&&g(n,"background-color","var(--"+e[0]+"-player)")},i:e,o:e,d(e){e&&a(n)}}}function J(e,t,n){let{code:r,i:l}=t;return e.$$set=e=>{"code"in e&&n(0,r=e.code),"i"in e&&n(1,l=e.i)},[r,l]}class G extends F{constructor(e){super(),j(this,e,J,Y,s,{code:0,i:1})}}function W(){}W.prototype={on:function(e,t,n){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var r=this;function l(){r.off(e,l),t.apply(n,arguments)}return l._=t,this.on(e,l,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),r=0,l=n.length;r<l;r++)n[r].fn.apply(n[r].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),r=n[e],l=[];if(r&&t)for(var s=0,o=r.length;s<o;s++)r[s].fn!==t&&r[s].fn._!==t&&l.push(r[s]);return l.length?n[e]=l:delete n[e],this}};var K=W;W.TinyEmitter=K;const Q=[19,20,21,22,23,24,6,5,4,3,2,1,7,13,14,15,16,17,18,42,41,40,39,38,37,43,49,50,51,52,53,54,72,71,70,69,68,67,61,55,56,57,58,59,60,36,35,34,33,32,31,25],V={red:20,blue:14,yellow:50,green:56},X={red:[26,27,28,29,30],blue:[8,9,10,11,12],yellow:[44,45,46,47,48],green:[62,63,64,65,66]},Z=[33,69,39,3,...Object.values(V)],ee=Object.fromEntries(["red","yellow","green","blue"].map((e=>{let t=Q.indexOf(V[e]),n=Q.slice(t,t+51);return 51!=n.length&&(n=n.concat(Q.slice(0,51-n.length))),[e,n.concat(X[e])]}))),te=['<div class="dot"></div>','<div class="dot"></div>'.repeat(2),'<div class="dot"></div>'.repeat(3),'<div class="flex"><div class="dot"></div> <div class="dot"></div></div>'.repeat(2),'\n        <div class="flex"><div class="dot"></div> <div class="e-dot"></div> <div class="dot"></div></div> \n        <div class="flex"><div class="e-dot"></div> <div class="dot"></div></div> \n        <div class="flex"><div class="dot"></div> <div class="e-dot"></div> <div class="dot"></div></div>\n    ','<div class="flex"><div class="dot"></div> <div class="dot"></div></div>'.repeat(3)],ne={red:"top-left",blue:"top-right",green:"bottom-left",yellow:"bottom-right"};class re{constructor(){let e=document.createElement("div");e.className="alert",e.style.opacity=0,this.element=e}setInnerHTML(e){return this.element.innerHTML=e,this}appendChildren(...e){return this.element.append(...e),this}setParent(e){return this.parent=e,this.parent.prepend(this.element),this}removeParent(){return this.parent.removeChild(this.element),this}async display(e=200){return await se(e),this.element.style.opacity=1,this}async undisplay(){return this.element.style.opacity=0,await se(200),this.removeParent()}}class le{static NULL_PLAYER=new le("No Player","null").null();kills=0;cors=[null,null,null,null];constructor(e,t,n){this.name=e,this.color=t,n&&(this.isBot=!0)}static fromJSON(e){let t=new le(e.name,e.color);return t.cors=e.cors.map((e=>"null"==e?NaN:e)),t.kills=e.kills,e.color&&(t.color=e.color),e.rank&&(t.rank=e.rank),e.bot&&(t.isBot=e.bot),t}get coinsReached(){return this.cors.filter((e=>isNaN(e))).length}get coinsAtStart(){return this.cors.filter((e=>"object"==typeof e)).length}get coinsOutside(){return this.cors.filter((e=>!isNaN(e)&&"number"==typeof e)).length}get completed(){return 4==this.coinsReached}get startPoint(){return V[this.color]}get activeCoinsIndices(){let e=[];for(let t=0;t<this.cors.length;t++){let n=this.cors[t];isNaN(n)||"number"!=typeof n||e.push(t)}return e}get coinsInsideIndices(){let e=[];for(let t=0;t<this.cors.length;t++)"object"==typeof this.cors[t]&&e.push(t);return e}get type(){return this.isBot?"bot":this.isNull?"null":"player"}null(){return this.isNull=!0,this}toJSON(){return{kills:this.kills,cors:this.cors.map((e=>isNaN(e)?"nan":e)),name:this.name,color:this.color,bot:this.isBot}}}async function se(e){return new Promise((t=>setTimeout(t,e)))}function oe(e){return Math.floor(Math.random()*e)}function ie(e){return 1==e?"1st":2==e?"2nd":3==e?"3rd":`${e}th`}Array.prototype.random=function(){return this[Math.floor(Math.random()*this.length)]},String.prototype.toProperCase=function(){return this.charAt(0).toUpperCase()+this.substring(1).toLowerCase()},Element.prototype.setNodeIDCss=function(){for(let e=0;e<this.children.length;e++)this.children[e].style.setProperty("--node-id",e+1)};const ae=new class extends K{started=!1;ended=!1;activePlayers=[];activeBots=[];currentTurn=0;ranks=[];players={red:new le("You","red"),green:le.NULL_PLAYER,yellow:le.NULL_PLAYER,blue:le.NULL_PLAYER};constructor(){super(),this.on("start",(()=>this.activeBots=this.activePlayers.filter((e=>e.isBot)))),this.on("end",(()=>this.ended=!0))}get playersArray(){return Object.values(this.players)}get playerCount(){return this.playersArray.filter((e=>!e.isNull)).length}get currentTurnPlayer(){return this.activePlayers[this.currentTurn]}nextTurn(){let e=this.activePlayers.length-1;this.currentTurn+=this.currentTurn==e?-e:1}onWindowLoad(){let e=document.createElement("style");e.innerHTML=Z.map((e=>`#step-${e} {background-color:var(--dark-step-color)!important}`)).join(""),e.innerHTML+=Object.entries(V).map((([e,t])=>`#step-${t} {background-color:var(--${e}-player)!important}`)).join(""),document.getElementById("wrap").append(e),this.started&&(this.emit("start"),this.alert("Resuming your game...",1200))}createPlayer(e){let t=Object.entries(this.players).find((([e,t])=>t.isNull));return t?(this.players[t[0]]=new le(e?"Bot":"Player",t[0],e),this.emit(`${t[0]}Update`).emit("playerCountUpdate"),this.players[t[0]]):null}deletePlayer(e){if(1==this.playerCount)return null;let t=this.players[e];return this.players[e]=le.NULL_PLAYER,this.emit(`${e}Update`).emit("playerCountUpdate"),t}updatePlayerName(e,t){this.players[e].name=t,this.emit(`${e}Update`)}async start(e=!1){return!this.started&&(this.activePlayers=[],Object.entries(this.players).forEach((e=>{e[1].isNull||this.activePlayers.push(e[1])})),!(this.activePlayers.length<2)&&(this.started=!0,this.emit("start"),this.clearSaved(),e&&await this.alert("The game has started...",1e3),this.startTurns()))}async startTurns(){let e=!1;for(;!await this.checkForCompletion();){let t=this.currentTurnPlayer,n=!t.isBot;if(this.save(),!e){if(t.completed)continue;this.emit("turn",t.color),n&&await this.waitForEvent("diceRoll")}let r=await this.diceRoll(t.name+"'s")+1,l=t.coinsInsideIndices,s=6==r;if(e=s,4==l.length)s?(t.cors[0]=0,await this.moveCoin(t.color,1,t.startPoint),this.emit(`${t.color}Update`)):await this.alert("Unfortunate!",1200);else{let o;if(!t.coinsOutside){e=!1,await this.alert("Unfortunate! No coins to move!",1200),this.nextTurn();continue}if(s&&this.emit(`${t.color}PrisonSelectable`),n?(await this.alert("Select your move...",1100),o=await this.waitForEvent(`${t.color}Select`)):o=this.getBotChoice(t,r),"prison"==o){let e=l.random();t.cors[e]=0,await this.moveCoin(t.color,e+1,t.startPoint),this.emit(`${t.color}Update`)}else if("number"==typeof o[0]){let{bonusRoll:n,newStep:l,gameOver:s}=await this.moveCoinInPath(t.color,o[0],t,r);if(s)break;e=e||n,isNaN(l)||(e=await this.killCoins(t,l)||e)}s&&this.emit(`${t.color}PrisonSelectable`)}e?await this.alert("Rolling again...",750):this.nextTurn()}return this.emit("end"),!0}async alert(e,t=2e3){let n=await(new re).setParent(document.querySelector(".board-wrapper")).setInnerHTML(`<p>${e}</p>`).display(0);await se(t),await n.undisplay()}async diceRoll(e="Your",t=oe(6)){let n=document.createElement("p");n.innerHTML=`${e} Turn`;let r=document.createElement("div");r.className="dice",r.innerHTML=this.getRandomDiceSideHTML();let l=await(new re).appendChildren(n,r).setParent(document.querySelector(".board-wrapper")).display();for(let e=0;e<4;e++)await se(50*e),r.innerHTML=this.getRandomDiceSideHTML();return await se(200),r.innerHTML=this.getDiceSideHTML(t),await se(400),r.style.transform="scale(1.2)",await se(250),r.style.transform="scale(1)",await se(750),await l.undisplay(),t}async killCoins(e,t){if(!Z.includes(t))for(let n=0;n<this.activePlayers.length;n++){let r=this.activePlayers[n];if(r==e)continue;let l=ee[r.color],s=0;for(let e=0;e<r.cors.length;e++)l[r.cors[e]]==t&&(r.cors[e]=null,s+=1,await this.moveCoinToPrison(r.color,e+1));if(s)return e.kills+=s,this.emit(`${r.color}Update`).emit(`${e.color}Update`),!0}}async moveCoin(e,t,n){let r=document.getElementById(`coin-${e}-${t}`),l=document.getElementById(`step-${n}`),s=r.cloneNode();r.classList.add("coin-exit"),await se(500),r.parentElement.removeChild(r),s.addEventListener("click",(()=>this.emit(`${e}Select`,t))),s.classList.add("coin-active"),l.appendChild(s),l.setNodeIDCss(),await se(400)}async moveCoinInPath(e,t,n,r){let l=`coin-${e}-${t}`,s=n.cors[t-1]+r,o=ee[e][s];if(!o){let r=document.getElementById(l);return r.parentElement.removeChild(r),n.cors[t-1]=NaN,await this.alert(`${n.name}'s coin has reached the house!`,1100),n.completed&&(this.ranks.push(n),await this.alert(`${n.name} has won the ${ie(this.ranks.length)} place!`,1100),n.rank=this.ranks.length,this.emit("canDisplayResults")),this.emit(`${e}Update`),{bonusRoll:!0,newStep:NaN,gameOver:await this.checkForCompletion()}}return n.cors[t-1]=s,await this.moveCoin(e,t,o),{bonusRoll:!1,newStep:o}}async moveCoinToPrison(e,t){let n=document.getElementById(`coin-${e}-${t}`),r=n.parentElement,l=n.cloneNode();n.classList.add("coin-exit"),await se(500),n.parentElement.removeChild(n),l.classList.add("coin-active"),document.querySelector(`#prison-${e} .prison-inner div`).appendChild(l),r.setNodeIDCss(),await se(400)}waitForEvent(e){return new Promise((t=>{const n=(...r)=>{this.off(e,n),t(r)};this.on(e,n)}))}getForwardStep(e,t,n){let r=ee[t];return r[r.indexOf(e)+n+1]}getBotChoice(e,t){if(6==t&&oe(2))return"prison";{let n=e.cors.map((n=>!n&&isNaN(n)?NaN:this.getForwardStep(n,e.color,t)));for(let e=0;e<this.activePlayers.length;e++){let t=this.activePlayers[e];for(let e=0;e<t.cors.length;e++){let r=n.findIndex((n=>n==t.cors[e]));if(-1!=r)return[r]}}return[e.activeCoinsIndices.random()+1]}}async checkForCompletion(){if(3==this.ranks.length){let e=this.activePlayers.find((e=>!this.ranks.includes(e)));return this.ranks.push(e),await this.alert(`${e.name} has won the ${ie(this.ranks.length)} place!`,1100),!0}for(let e=0;e<this.activePlayers.length;e++){let t=this.activePlayers[e];if(!t.isBot&&!t.completed)return!1}return this.ranks.push(...this.activeBots.filter((e=>!e.completed))),!0}getRandomDiceSideHTML(){return this.getDiceSideHTML(oe(6))}getDiceSideHTML(e){return`<div class="dside-${e+1}">${te[e]}</div>`}toJSON(){return{started:this.started,ended:this.ended,currentTurn:this.currentTurn,ranks:this.ranks.map((e=>e.color)),players:this.activePlayers.map((e=>e.toJSON()))}}save(){localStorage.setItem("ludo_data",JSON.stringify(this.toJSON()))}clearSaved(){localStorage.removeItem("ludo_data")}async startFromSaved(){let e=JSON.parse(localStorage.getItem("ludo_data")||"{}"),t=[];if(e.started){this.started=!0,this.currentTurn=e.currentTurn,this.activePlayers=e.players.map(le.fromJSON),this.players.red=le.NULL_PLAYER;for(let e=0;e<this.activePlayers.length;e++){let n=this.activePlayers[e],r=ee[n.color];this.players[n.color]=n,this.emit(`${n.color}Update`);for(let e=0;e<n.cors.length;e++){let l=n.cors[e];isNaN(l)||"number"!=typeof l||t.push(this.moveCoin(n.color,e+1,r[l]))}}for(let t=0;t<e.ranks.length;t++)this.ranks.push(this.players[e.ranks[t]])}this.emit("start"),await Promise.all(t),e.started?(await this.alert("The game has resumed...",1e3),await this.startTurns()):e.ended&&this.emit("displayResult")}},ce=Boolean(localStorage.getItem("ludo_data"));function de(e){let t,n,r,l,s,c,u,f,$,v,y,w,b,x,S,k,z;return s=new G({props:{code:e[1],i:1}}),u=new G({props:{code:e[1],i:2}}),$=new G({props:{code:e[1],i:3}}),y=new G({props:{code:e[1],i:4}}),{c(){t=d("div"),n=d("div"),r=d("div"),l=d("div"),D(s.$$.fragment),c=p(),D(u.$$.fragment),f=p(),D($.$$.fragment),v=p(),D(y.$$.fragment),h(l,"class","flex flex-wrap"),h(r,"class","prison-inner svelte-17tvo21"),g(r,"margin",e[4]+"px"),g(r,"width",e[3]+"px"),g(r,"height",e[3]+"px"),h(n,"class","prison-cover svelte-17tvo21"),h(n,"style",w="border-"+ne[e[1]]+"-radius: 8px;"),h(t,"class",b="prison "+(e[0]?"prison-selectable":"")+" svelte-17tvo21"),g(t,"width",e[2]+"px"),g(t,"height",e[2]+"px"),g(t,"--color","var(--"+e[1]+"-player)"),h(t,"id",x="prison-"+e[1])},m(a,d){i(a,t,d),o(t,n),o(n,r),o(r,l),M(s,l,null),o(l,c),M(u,l,null),o(l,f),M($,l,null),o(l,v),M(y,l,null),S=!0,k||(z=m(t,"click",e[6]),k=!0)},p(e,[l]){const o={};2&l&&(o.code=e[1]),s.$set(o);const i={};2&l&&(i.code=e[1]),u.$set(i);const a={};2&l&&(a.code=e[1]),$.$set(a);const c={};2&l&&(c.code=e[1]),y.$set(c),(!S||16&l)&&g(r,"margin",e[4]+"px"),(!S||8&l)&&g(r,"width",e[3]+"px"),(!S||8&l)&&g(r,"height",e[3]+"px"),(!S||2&l&&w!==(w="border-"+ne[e[1]]+"-radius: 8px;"))&&h(n,"style",w),(!S||1&l&&b!==(b="prison "+(e[0]?"prison-selectable":"")+" svelte-17tvo21"))&&h(t,"class",b),(!S||4&l)&&g(t,"width",e[2]+"px"),(!S||4&l)&&g(t,"height",e[2]+"px"),(!S||2&l)&&g(t,"--color","var(--"+e[1]+"-player)"),(!S||2&l&&x!==(x="prison-"+e[1]))&&h(t,"id",x)},i(e){S||(O(s.$$.fragment,e),O(u.$$.fragment,e),O($.$$.fragment,e),O(y.$$.fragment,e),S=!0)},o(e){B(s.$$.fragment,e),B(u.$$.fragment,e),B($.$$.fragment,e),B(y.$$.fragment,e),S=!1},d(e){e&&a(t),U(s),U(u),U($),U(y),k=!1,z()}}}function ue(e,t,n){let r,l,{code:s,cellSize:o,prisonSize:i,prisonSelectable:a}=t;ae.on(`${s}PrisonSelectable`,(()=>n(0,a=!a)));return e.$$set=e=>{"code"in e&&n(1,s=e.code),"cellSize"in e&&n(5,o=e.cellSize),"prisonSize"in e&&n(2,i=e.prisonSize),"prisonSelectable"in e&&n(0,a=e.prisonSelectable)},e.$$.update=()=>{44&e.$$.dirty&&(n(3,r=4*o+4),n(4,l=(i-r-10)/2))},[a,s,i,r,l,o,()=>{a&&ae.emit(`${s}Select`,"prison")}]}class pe extends F{constructor(e){super(),j(this,e,ue,de,s,{code:1,cellSize:5,prisonSize:2,prisonSelectable:0})}}function fe(t){let n,r,l;return{c(){n=d("div"),h(n,"class","step svelte-14ca1mg"),h(n,"id",r="step-"+t[0]),h(n,"style",l=t[1]?`background-color: var(--${t[1]}-player);`:"")},m(e,t){i(e,n,t)},p(e,[t]){1&t&&r!==(r="step-"+e[0])&&h(n,"id",r),2&t&&l!==(l=e[1]?`background-color: var(--${e[1]}-player);`:"")&&h(n,"style",l)},i:e,o:e,d(e){e&&a(n)}}}function me(e,t,n){let{i:r}=t,{color:l=null}=t;return e.$$set=e=>{"i"in e&&n(0,r=e.i),"color"in e&&n(1,l=e.color)},[r,l]}class he extends F{constructor(e){super(),j(this,e,me,fe,s,{i:0,color:1})}}function $e(e,t,n){const r=e.slice();return r[4]=t[n],r[6]=n,r}function ge(e,t,n){const r=e.slice();return r[4]=t[n],r[6]=n,r}function ve(e){let t,n,r,l;t=new he({props:{i:e[1],cellSize:e[0]}});let s=Array(5),o=[];for(let t=0;t<s.length;t+=1)o[t]=we($e(e,s,t));const d=e=>B(o[e],1,1,(()=>{o[e]=null}));return{c(){D(t.$$.fragment),n=p();for(let e=0;e<o.length;e+=1)o[e].c();r=f()},m(e,s){M(t,e,s),i(e,n,s);for(let t=0;t<o.length;t+=1)o[t].m(e,s);i(e,r,s),l=!0},p(e,n){const l={};if(2&n&&(l.i=e[1]),1&n&&(l.cellSize=e[0]),t.$set(l),10&n){let t;for(s=Array(5),t=0;t<s.length;t+=1){const l=$e(e,s,t);o[t]?(o[t].p(l,n),O(o[t],1)):(o[t]=we(l),o[t].c(),O(o[t],1),o[t].m(r.parentNode,r))}for(H(),t=s.length;t<o.length;t+=1)d(t);A()}},i(e){if(!l){O(t.$$.fragment,e);for(let e=0;e<s.length;e+=1)O(o[e]);l=!0}},o(e){B(t.$$.fragment,e),o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)B(o[e]);l=!1},d(e){U(t,e),e&&a(n),c(o,e),e&&a(r)}}}function ye(e){let t,n,r=Array(6),l=[];for(let t=0;t<r.length;t+=1)l[t]=be(ge(e,r,t));const s=e=>B(l[e],1,1,(()=>{l[e]=null}));return{c(){for(let e=0;e<l.length;e+=1)l[e].c();t=f()},m(e,r){for(let t=0;t<l.length;t+=1)l[t].m(e,r);i(e,t,r),n=!0},p(e,n){if(3&n){let o;for(r=Array(6),o=0;o<r.length;o+=1){const s=ge(e,r,o);l[o]?(l[o].p(s,n),O(l[o],1)):(l[o]=be(s),l[o].c(),O(l[o],1),l[o].m(t.parentNode,t))}for(H(),o=r.length;o<l.length;o+=1)s(o);A()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)O(l[e]);n=!0}},o(e){l=l.filter(Boolean);for(let e=0;e<l.length;e+=1)B(l[e]);n=!1},d(e){c(l,e),e&&a(t)}}}function we(e){let t,n;return t=new he({props:{i:e[1]+e[6]+1,color:e[3]}}),{c(){D(t.$$.fragment)},m(e,r){M(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.i=e[1]+e[6]+1),8&n&&(r.color=e[3]),t.$set(r)},i(e){n||(O(t.$$.fragment,e),n=!0)},o(e){B(t.$$.fragment,e),n=!1},d(e){U(t,e)}}}function be(e){let t,n;return t=new he({props:{i:e[1]+e[6],cellSize:e[0]}}),{c(){D(t.$$.fragment)},m(e,r){M(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.i=e[1]+e[6]),1&n&&(r.cellSize=e[0]),t.$set(r)},i(e){n||(O(t.$$.fragment,e),n=!0)},o(e){B(t.$$.fragment,e),n=!1},d(e){U(t,e)}}}function xe(e){let t,n,r,l,s;const o=[ye,ve],c=[];function u(e,t){return e[3]?1:0}return n=u(e),r=c[n]=o[n](e),{c(){t=d("div"),r.c(),h(t,"class",l="flex flex-nowrap flex-"+e[2])},m(e,r){i(e,t,r),c[n].m(t,null),s=!0},p(e,[i]){let a=n;n=u(e),n===a?c[n].p(e,i):(H(),B(c[a],1,1,(()=>{c[a]=null})),A(),r=c[n],r?r.p(e,i):(r=c[n]=o[n](e),r.c()),O(r,1),r.m(t,null)),(!s||4&i&&l!==(l="flex flex-nowrap flex-"+e[2]))&&h(t,"class",l)},i(e){s||(O(r),s=!0)},o(e){B(r),s=!1},d(e){e&&a(t),c[n].d()}}}function Se(e,t,n){let{cellSize:r,offsetIndex:l}=t,{flexDirection:s="row"}=t,{color:o=null}=t;return e.$$set=e=>{"cellSize"in e&&n(0,r=e.cellSize),"offsetIndex"in e&&n(1,l=e.offsetIndex),"flexDirection"in e&&n(2,s=e.flexDirection),"color"in e&&n(3,o=e.color)},[r,l,s,o]}class ke extends F{constructor(e){super(),j(this,e,Se,xe,s,{cellSize:0,offsetIndex:1,flexDirection:2,color:3})}}function ze(t){let n;return{c(){n=d("div"),h(n,"class","triangle svelte-1n4h48y"),g(n,"background-color","var(--"+t[0]+"-player)"),g(n,"height",t[1]/2+"px"),g(n,"width",t[1]+"px"),g(n,"margin-top",t[3]+"px"),g(n,"margin-right",t[4]+"px"),g(n,"margin-left",t[5]+"px"),g(n,"margin-bottom",t[6]+"px"),g(n,"--rotate",90*t[2]+"deg")},m(e,t){i(e,n,t)},p(e,[t]){1&t&&g(n,"background-color","var(--"+e[0]+"-player)"),2&t&&g(n,"height",e[1]/2+"px"),2&t&&g(n,"width",e[1]+"px"),8&t&&g(n,"margin-top",e[3]+"px"),16&t&&g(n,"margin-right",e[4]+"px"),32&t&&g(n,"margin-left",e[5]+"px"),64&t&&g(n,"margin-bottom",e[6]+"px"),4&t&&g(n,"--rotate",90*e[2]+"deg")},i:e,o:e,d(e){e&&a(n)}}}function Ne(e,t,n){let{color:r,gameHomeSize:l,i:s}=t,{top:o=0,right:i=0,left:a=0,bottom:c=0}=t;return e.$$set=e=>{"color"in e&&n(0,r=e.color),"gameHomeSize"in e&&n(1,l=e.gameHomeSize),"i"in e&&n(2,s=e.i),"top"in e&&n(3,o=e.top),"right"in e&&n(4,i=e.right),"left"in e&&n(5,a=e.left),"bottom"in e&&n(6,c=e.bottom)},[r,l,s,o,i,a,c]}class Ce extends F{constructor(e){super(),j(this,e,Ne,ze,s,{color:0,gameHomeSize:1,i:2,top:3,right:4,left:5,bottom:6})}}function Pe(e){let t,n,r,l,s,c,u,f,m,$,v,y,w,b,x,S,k,z,N,C,P,L,T,E,I,R,_,H,A,q,j,F,Y,J,G,W,K,Q,V,X,Z,ee,te,ne,re,le,se,oe,ie,ae;return s=new pe({props:{code:"red",cellSize:e[1],prisonSize:e[2]}}),u=new ke({props:{cellSize:e[1],offsetIndex:1,flexDirection:"column"}}),m=new ke({props:{cellSize:e[1],offsetIndex:7,flexDirection:"column",color:"blue"}}),v=new ke({props:{cellSize:e[1],offsetIndex:13,flexDirection:"column"}}),w=new pe({props:{code:"blue",cellSize:e[1],prisonSize:e[2]}}),k=new ke({props:{cellSize:e[1],offsetIndex:19}}),N=new ke({props:{cellSize:e[1],offsetIndex:25,color:"red"}}),P=new ke({props:{cellSize:e[1],offsetIndex:31}}),I=new Ce({props:{color:"green",i:0,top:e[3]/2,gameHomeSize:e[3]}}),_=new Ce({props:{color:"red",i:1,top:e[3]/4,left:-e[3]/4,gameHomeSize:e[3]}}),A=new Ce({props:{color:"blue",i:2,gameHomeSize:e[3]}}),j=new Ce({props:{color:"yellow",i:3,top:e[3]/4,left:e[3]/4,gameHomeSize:e[3]}}),J=new ke({props:{cellSize:e[1],offsetIndex:37,flexDirection:"row-r"}}),W=new ke({props:{cellSize:e[1],offsetIndex:43,flexDirection:"row-r",color:"yellow"}}),Q=new ke({props:{cellSize:e[1],offsetIndex:49,flexDirection:"row-r"}}),Z=new pe({props:{code:"green",cellSize:e[1],prisonSize:e[2]}}),te=new ke({props:{cellSize:e[1],offsetIndex:55,flexDirection:"column-r"}}),re=new ke({props:{cellSize:e[1],offsetIndex:61,flexDirection:"column-r",color:"green"}}),se=new ke({props:{cellSize:e[1],offsetIndex:67,flexDirection:"column-r"}}),ie=new pe({props:{code:"yellow",cellSize:e[1],prisonSize:e[2]}}),{c(){t=d("div"),n=d("div"),r=d("div"),l=d("div"),D(s.$$.fragment),c=p(),D(u.$$.fragment),f=p(),D(m.$$.fragment),$=p(),D(v.$$.fragment),y=p(),D(w.$$.fragment),b=p(),x=d("div"),S=d("div"),D(k.$$.fragment),z=p(),D(N.$$.fragment),C=p(),D(P.$$.fragment),L=p(),T=d("div"),E=d("div"),D(I.$$.fragment),R=p(),D(_.$$.fragment),H=p(),D(A.$$.fragment),q=p(),D(j.$$.fragment),F=p(),Y=d("div"),D(J.$$.fragment),G=p(),D(W.$$.fragment),K=p(),D(Q.$$.fragment),V=p(),X=d("div"),D(Z.$$.fragment),ee=p(),D(te.$$.fragment),ne=p(),D(re.$$.fragment),le=p(),D(se.$$.fragment),oe=p(),D(ie.$$.fragment),h(l,"class","flex flex-nowrap"),g(E,"z-index","6"),g(T,"width",e[3]+"px"),h(T,"class","game-home svelte-18xkrso"),h(x,"class","flex flex-nowrap"),h(X,"class","flex flex-nowrap"),h(r,"class","board-inner w-full"),h(n,"class","board w-full h-full svelte-18xkrso"),h(t,"class","board-wrapper svelte-18xkrso"),g(t,"--board-width",e[0]+"px"),g(t,"--board-height",e[0]+"px"),g(t,"--cell-size",e[1]+"px")},m(e,a){i(e,t,a),o(t,n),o(n,r),o(r,l),M(s,l,null),o(l,c),M(u,l,null),o(l,f),M(m,l,null),o(l,$),M(v,l,null),o(l,y),M(w,l,null),o(r,b),o(r,x),o(x,S),M(k,S,null),o(S,z),M(N,S,null),o(S,C),M(P,S,null),o(x,L),o(x,T),o(T,E),M(I,E,null),o(E,R),M(_,E,null),o(E,H),M(A,E,null),o(E,q),M(j,E,null),o(x,F),o(x,Y),M(J,Y,null),o(Y,G),M(W,Y,null),o(Y,K),M(Q,Y,null),o(r,V),o(r,X),M(Z,X,null),o(X,ee),M(te,X,null),o(X,ne),M(re,X,null),o(X,le),M(se,X,null),o(X,oe),M(ie,X,null),ae=!0},p(e,[n]){const r={};2&n&&(r.cellSize=e[1]),4&n&&(r.prisonSize=e[2]),s.$set(r);const l={};2&n&&(l.cellSize=e[1]),u.$set(l);const o={};2&n&&(o.cellSize=e[1]),m.$set(o);const i={};2&n&&(i.cellSize=e[1]),v.$set(i);const a={};2&n&&(a.cellSize=e[1]),4&n&&(a.prisonSize=e[2]),w.$set(a);const c={};2&n&&(c.cellSize=e[1]),k.$set(c);const d={};2&n&&(d.cellSize=e[1]),N.$set(d);const p={};2&n&&(p.cellSize=e[1]),P.$set(p);const f={};8&n&&(f.top=e[3]/2),8&n&&(f.gameHomeSize=e[3]),I.$set(f);const h={};8&n&&(h.top=e[3]/4),8&n&&(h.left=-e[3]/4),8&n&&(h.gameHomeSize=e[3]),_.$set(h);const $={};8&n&&($.gameHomeSize=e[3]),A.$set($);const y={};8&n&&(y.top=e[3]/4),8&n&&(y.left=e[3]/4),8&n&&(y.gameHomeSize=e[3]),j.$set(y),(!ae||8&n)&&g(T,"width",e[3]+"px");const b={};2&n&&(b.cellSize=e[1]),J.$set(b);const x={};2&n&&(x.cellSize=e[1]),W.$set(x);const S={};2&n&&(S.cellSize=e[1]),Q.$set(S);const z={};2&n&&(z.cellSize=e[1]),4&n&&(z.prisonSize=e[2]),Z.$set(z);const C={};2&n&&(C.cellSize=e[1]),te.$set(C);const L={};2&n&&(L.cellSize=e[1]),re.$set(L);const E={};2&n&&(E.cellSize=e[1]),se.$set(E);const R={};2&n&&(R.cellSize=e[1]),4&n&&(R.prisonSize=e[2]),ie.$set(R),(!ae||1&n)&&g(t,"--board-width",e[0]+"px"),(!ae||1&n)&&g(t,"--board-height",e[0]+"px"),(!ae||2&n)&&g(t,"--cell-size",e[1]+"px")},i(e){ae||(O(s.$$.fragment,e),O(u.$$.fragment,e),O(m.$$.fragment,e),O(v.$$.fragment,e),O(w.$$.fragment,e),O(k.$$.fragment,e),O(N.$$.fragment,e),O(P.$$.fragment,e),O(I.$$.fragment,e),O(_.$$.fragment,e),O(A.$$.fragment,e),O(j.$$.fragment,e),O(J.$$.fragment,e),O(W.$$.fragment,e),O(Q.$$.fragment,e),O(Z.$$.fragment,e),O(te.$$.fragment,e),O(re.$$.fragment,e),O(se.$$.fragment,e),O(ie.$$.fragment,e),ae=!0)},o(e){B(s.$$.fragment,e),B(u.$$.fragment,e),B(m.$$.fragment,e),B(v.$$.fragment,e),B(w.$$.fragment,e),B(k.$$.fragment,e),B(N.$$.fragment,e),B(P.$$.fragment,e),B(I.$$.fragment,e),B(_.$$.fragment,e),B(A.$$.fragment,e),B(j.$$.fragment,e),B(J.$$.fragment,e),B(W.$$.fragment,e),B(Q.$$.fragment,e),B(Z.$$.fragment,e),B(te.$$.fragment,e),B(re.$$.fragment,e),B(se.$$.fragment,e),B(ie.$$.fragment,e),ae=!1},d(e){e&&a(t),U(s),U(u),U(m),U(v),U(w),U(k),U(N),U(P),U(I),U(_),U(A),U(j),U(J),U(W),U(Q),U(Z),U(te),U(re),U(se),U(ie)}}}function Le(e,t,n){let r,l,s,o;function i(){let e=document.getElementById("wrap");n(0,r=Math.min(e.clientHeight,e.clientWidth))}return b((()=>{i(),ae.onWindowLoad(),window.addEventListener("resize",i)})),e.$$.update=()=>{3&e.$$.dirty&&(n(1,l=(r-70)/15),n(2,s=6*l+24),n(3,o=3*l+8))},[r,l,s,o]}class Te extends F{constructor(e){super(),j(this,e,Le,Pe,s,{})}}function Ee(e){let t,n,r,l,s,c,f,v,y,w,b,x,S,k,z,N,C,P,L,T,E,I,R,_,H,A,O,B,D,M,U,q,j,F,Y=e[3].coinsOutside+"",J=e[3].coinsAtStart+"",G=e[3].coinsReached+"",W=e[3].kills+"",K=!e[1]&&e[2]&&Ie(e);function Q(e,t){return e[4]?_e:e[3].rank?Re:void 0}let V=Q(e),X=V&&V(e);return{c(){t=d("div"),n=d("div"),r=d("input"),c=p(),f=d("div"),v=d("p"),v.textContent="Coins Outside:",y=p(),w=d("p"),b=u(Y),x=d("br"),S=p(),k=d("p"),k.textContent="Coins At Start:",z=p(),N=d("p"),C=u(J),P=d("br"),L=p(),T=d("p"),T.textContent="Coins Reached:",E=p(),I=d("p"),R=u(G),_=d("br"),H=p(),A=d("p"),A.textContent="Kills:",O=p(),B=d("p"),D=u(W),M=d("br"),U=p(),K&&K.c(),q=p(),X&&X.c(),h(r,"class","player-input svelte-14sxb61"),h(r,"type","text"),r.value=l=e[3].name.slice(0,10),r.readOnly=s=!e[2],h(n,"class","head"),g(n,"background-color","var(--"+e[0]+"-player)"),h(v,"class","inline-block strong svelte-14sxb61"),h(w,"class","inline-block svelte-14sxb61"),h(k,"class","inline-block strong svelte-14sxb61"),h(N,"class","inline-block svelte-14sxb61"),h(T,"class","inline-block strong svelte-14sxb61"),h(I,"class","inline-block svelte-14sxb61"),h(A,"class","inline-block strong svelte-14sxb61"),h(B,"class","inline-block svelte-14sxb61"),h(f,"class","foot"),h(t,"class","player-tab svelte-14sxb61")},m(l,s){i(l,t,s),o(t,n),o(n,r),o(t,c),o(t,f),o(f,v),o(f,y),o(f,w),o(w,b),o(f,x),o(f,S),o(f,k),o(f,z),o(f,N),o(N,C),o(f,P),o(f,L),o(f,T),o(f,E),o(f,I),o(I,R),o(f,_),o(f,H),o(f,A),o(f,O),o(f,B),o(B,D),o(f,M),o(f,U),K&&K.m(f,null),o(f,q),X&&X.m(f,null),j||(F=m(r,"blur",e[6]),j=!0)},p(e,t){8&t&&l!==(l=e[3].name.slice(0,10))&&r.value!==l&&(r.value=l),4&t&&s!==(s=!e[2])&&(r.readOnly=s),1&t&&g(n,"background-color","var(--"+e[0]+"-player)"),8&t&&Y!==(Y=e[3].coinsOutside+"")&&$(b,Y),8&t&&J!==(J=e[3].coinsAtStart+"")&&$(C,J),8&t&&G!==(G=e[3].coinsReached+"")&&$(R,G),8&t&&W!==(W=e[3].kills+"")&&$(D,W),!e[1]&&e[2]?K?K.p(e,t):(K=Ie(e),K.c(),K.m(f,q)):K&&(K.d(1),K=null),V===(V=Q(e))&&X?X.p(e,t):(X&&X.d(1),X=V&&V(e),X&&(X.c(),X.m(f,null)))},d(e){e&&a(t),K&&K.d(),X&&X.d(),j=!1,F()}}}function Ie(e){let t,n,r,l,s,c,p=e[3].type.toProperCase()+"";return{c(){t=d("a"),n=u("Remove "),r=u(p),l=u("?"),h(t,"href","#wrap")},m(a,d){i(a,t,d),o(t,n),o(t,r),o(t,l),s||(c=m(t,"click",e[5]),s=!0)},p(e,t){8&t&&p!==(p=e[3].type.toProperCase()+"")&&$(r,p)},d(e){e&&a(t),s=!1,c()}}}function Re(e){let t,n,r,l=ie(e[3].rank)+"";return{c(){t=d("p"),n=u(l),r=u(" Place"),h(t,"class","turn-label svelte-14sxb61")},m(e,l){i(e,t,l),o(t,n),o(t,r)},p(e,t){8&t&&l!==(l=ie(e[3].rank)+"")&&$(n,l)},d(e){e&&a(t)}}}function _e(t){let n;return{c(){n=d("p"),n.textContent="CURRENT TURN",h(n,"class","turn-label svelte-14sxb61")},m(e,t){i(e,n,t)},p:e,d(e){e&&a(n)}}}function He(t){let n,r=!t[3].isNull&&Ee(t);return{c(){r&&r.c(),n=f()},m(e,t){r&&r.m(e,t),i(e,n,t)},p(e,[t]){e[3].isNull?r&&(r.d(1),r=null):r?r.p(e,t):(r=Ee(e),r.c(),r.m(n.parentNode,n))},i:e,o:e,d(e){r&&r.d(e),e&&a(n)}}}function Ae(e,t,n){let{color:r,started:l}=t,{editable:s=!0}=t,o=ae.players[r],i=!1;s&&(ae.on(`${r}Update`,(()=>n(3,o=ae.players[r]))),ae.on("turn",(e=>n(4,i=e==r))));return e.$$set=e=>{"color"in e&&n(0,r=e.color),"started"in e&&n(1,l=e.started),"editable"in e&&n(2,s=e.editable)},[r,l,s,o,i,function(){ae.deletePlayer(r)||ae.alert("You cannot remove yourself from the game!")},e=>{s&&(ae.updatePlayerName(r,e.target.value),ae.alert("Name updated",1e3))}]}class Oe extends F{constructor(e){super(),j(this,e,Ae,He,s,{color:0,started:1,editable:2})}}function Be(t){let n,l,s,c,u,f,$,v,y;return{c(){n=d("div"),l=d("div"),l.innerHTML='<h3 class="svelte-4moyru">Add</h3>',s=p(),c=d("div"),u=d("a"),u.textContent="Add Player?",f=p(),$=d("a"),$.textContent="Add Bot?",h(l,"class","head"),g(l,"background-color","var(--dull-player)"),h(u,"href","#wrap"),h($,"href","#wrap"),h(c,"class","foot"),h(n,"class","player-tab svelte-4moyru")},m(e,r){i(e,n,r),o(n,l),o(n,s),o(n,c),o(c,u),o(c,f),o(c,$),v||(y=[m(u,"click",t[2]),m($,"click",t[3])],v=!0)},p:e,d(e){e&&a(n),v=!1,r(y)}}}function De(t){let n,r=!t[0]&&t[1]&&Be(t);return{c(){r&&r.c(),n=f()},m(e,t){r&&r.m(e,t),i(e,n,t)},p(e,[t]){!e[0]&&e[1]?r?r.p(e,t):(r=Be(e),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},i:e,o:e,d(e){r&&r.d(e),e&&a(n)}}}function Me(e,t,n){let{started:r}=t,l=4!=ae.playerCount;ae.on("playerCountUpdate",(()=>n(1,l=4!=ae.playerCount)));return e.$$set=e=>{"started"in e&&n(0,r=e.started)},[r,l,()=>{ae.createPlayer()||ae.alert("Player limit has been reached...")},()=>{ae.createPlayer(!0)||ae.alert("Player limit has been reached...")}]}class Ue extends F{constructor(e){super(),j(this,e,Me,De,s,{started:0})}}function qe(e,t,n){const r=e.slice();return r[3]=t[n],r}function je(t){let n,r,l,s,u,f,$,g,v,y,w,b,x,S,k=ae.ranks.length&&function(t){let n;return{c(){n=d("p"),n.textContent=`${ae.ranks[0].name} has won the game!`,h(n,"class","svelte-wup10t")},m(e,t){i(e,n,t)},p:e,d(e){e&&a(n)}}}(),z=ae.ranks,N=[];for(let e=0;e<z.length;e+=1)N[e]=Fe(qe(t,z,e));const C=e=>B(N[e],1,1,(()=>{N[e]=null}));return{c(){n=d("div"),r=p(),l=d("div"),s=d("h3"),s.textContent="Result",u=p(),k&&k.c(),f=p(),$=d("h5"),$.textContent="Rankings",g=p(),v=d("div");for(let e=0;e<N.length;e+=1)N[e].c();y=p(),w=d("a"),w.textContent="Close Tab",h(n,"class","result-wrap svelte-wup10t"),h(s,"class","svelte-wup10t"),h($,"class","svelte-wup10t"),h(v,"class","result-players-tab svelte-wup10t"),h(w,"href","#wrap"),h(w,"class","svelte-wup10t"),h(l,"class","result-tab svelte-wup10t")},m(e,a){i(e,n,a),i(e,r,a),i(e,l,a),o(l,s),o(l,u),k&&k.m(l,null),o(l,f),o(l,$),o(l,g),o(l,v);for(let e=0;e<N.length;e+=1)N[e].m(v,null);o(l,y),o(l,w),b=!0,x||(S=m(w,"click",t[2]),x=!0)},p(e,t){if(ae.ranks.length&&k.p(e,t),1&t){let n;for(z=ae.ranks,n=0;n<z.length;n+=1){const r=qe(e,z,n);N[n]?(N[n].p(r,t),O(N[n],1)):(N[n]=Fe(r),N[n].c(),O(N[n],1),N[n].m(v,null))}for(H(),n=z.length;n<N.length;n+=1)C(n);A()}},i(e){if(!b){for(let e=0;e<z.length;e+=1)O(N[e]);b=!0}},o(e){N=N.filter(Boolean);for(let e=0;e<N.length;e+=1)B(N[e]);b=!1},d(e){e&&a(n),e&&a(r),e&&a(l),k&&k.d(),c(N,e),x=!1,S()}}}function Fe(e){let t,n;return t=new Oe({props:{color:e[3].color,editable:!1,started:e[0]}}),{c(){D(t.$$.fragment)},m(e,r){M(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.started=e[0]),t.$set(r)},i(e){n||(O(t.$$.fragment,e),n=!0)},o(e){B(t.$$.fragment,e),n=!1},d(e){U(t,e)}}}function Ye(e){let t,n,r=e[1]&&je(e);return{c(){r&&r.c(),t=f()},m(e,l){r&&r.m(e,l),i(e,t,l),n=!0},p(e,[n]){e[1]?r?(r.p(e,n),2&n&&O(r,1)):(r=je(e),r.c(),O(r,1),r.m(t.parentNode,t)):r&&(H(),B(r,1,1,(()=>{r=null})),A())},i(e){n||(O(r),n=!0)},o(e){B(r),n=!1},d(e){r&&r.d(e),e&&a(t)}}}function Je(e,t,n){let{started:r}=t,l=!1;ae.on("displayResult",(()=>n(1,l=!0)));return e.$$set=e=>{"started"in e&&n(0,r=e.started)},[r,l,()=>n(1,l=!1)]}class Ge extends F{constructor(e){super(),j(this,e,Je,Ye,s,{started:0})}}function We(t){let n,l,s,o,c,u,f;return{c(){n=d("a"),n.textContent="Roll Dice",l=p(),s=d("a"),s.textContent="Save Game",o=p(),c=d("a"),c.textContent="New Game",h(n,"class","player-tab-btn svelte-1y8ugt6"),h(n,"href","#wrap"),h(s,"class","player-tab-btn svelte-1y8ugt6"),h(s,"href","#wrap"),h(c,"class","player-tab-btn svelte-1y8ugt6"),h(c,"href","#wrap")},m(e,r){i(e,n,r),i(e,l,r),i(e,s,r),i(e,o,r),i(e,c,r),u||(f=[m(n,"click",t[5]),m(s,"click",t[6]),m(c,"click",t[7])],u=!0)},p:e,d(e){e&&a(n),e&&a(l),e&&a(s),e&&a(o),e&&a(c),u=!1,r(f)}}}function Ke(t){let n,r,l,s,o,c=ce&&function(t){let n,r,l;return{c(){n=d("a"),n.textContent="Resume Game",h(n,"class","player-tab-btn svelte-1y8ugt6"),h(n,"href","#wrap")},m(e,s){i(e,n,s),r||(l=m(n,"click",t[4]),r=!0)},p:e,d(e){e&&a(n),r=!1,l()}}}(t);return{c(){n=d("a"),n.textContent="New Game",r=p(),c&&c.c(),l=f(),h(n,"class","player-tab-btn svelte-1y8ugt6"),h(n,"href","#wrap")},m(e,a){i(e,n,a),i(e,r,a),c&&c.m(e,a),i(e,l,a),s||(o=m(n,"click",t[3]),s=!0)},p(e,t){ce&&c.p(e,t)},d(e){e&&a(n),e&&a(r),c&&c.d(e),e&&a(l),s=!1,o()}}}function Qe(t){let n,r,l;return{c(){n=d("a"),n.textContent="Results",h(n,"class","player-tab-btn svelte-1y8ugt6"),h(n,"href","#wrap")},m(e,s){i(e,n,s),r||(l=m(n,"click",t[8]),r=!0)},p:e,d(e){e&&a(n),r=!1,l()}}}function Ve(e){let t,n,r,l,s,c,u,f,m,$,g,y,w,b,x,S,k,z,N,C,P,L;function T(e,t){return e[2]?We:Ke}r=new Ge({props:{started:e[2]}}),c=new Te({}),$=new Oe({props:{color:"red",started:e[2]}}),y=new Oe({props:{color:"yellow",started:e[2]}}),b=new Oe({props:{color:"blue",started:e[2]}}),S=new Oe({props:{color:"green",started:e[2]}}),z=new Ue({props:{started:e[2]}});let E=T(e),I=E(e),R=e[1]&&Qe(e);return{c(){t=d("div"),n=p(),D(r.$$.fragment),l=p(),s=d("div"),D(c.$$.fragment),u=p(),f=d("div"),m=d("div"),D($.$$.fragment),g=p(),D(y.$$.fragment),w=p(),D(b.$$.fragment),x=p(),D(S.$$.fragment),k=p(),D(z.$$.fragment),N=p(),C=d("div"),I.c(),P=p(),R&&R.c(),h(t,"class","wrap svelte-1y8ugt6"),h(t,"id","wrap"),h(m,"class","flex flex-wrap"),h(C,"class","flex flex-wrap"),h(f,"class","players-tab svelte-1y8ugt6"),h(s,"class","flex svelte-1y8ugt6"),v(s,"mobile-view",e[0])},m(e,a){i(e,t,a),i(e,n,a),M(r,e,a),i(e,l,a),i(e,s,a),M(c,s,null),o(s,u),o(s,f),o(f,m),M($,m,null),o(m,g),M(y,m,null),o(m,w),M(b,m,null),o(m,x),M(S,m,null),o(m,k),M(z,m,null),o(f,N),o(f,C),I.m(C,null),o(C,P),R&&R.m(C,null),L=!0},p(e,[t]){const n={};4&t&&(n.started=e[2]),r.$set(n);const l={};4&t&&(l.started=e[2]),$.$set(l);const o={};4&t&&(o.started=e[2]),y.$set(o);const i={};4&t&&(i.started=e[2]),b.$set(i);const a={};4&t&&(a.started=e[2]),S.$set(a);const c={};4&t&&(c.started=e[2]),z.$set(c),E===(E=T(e))&&I?I.p(e,t):(I.d(1),I=E(e),I&&(I.c(),I.m(C,P))),e[1]?R?R.p(e,t):(R=Qe(e),R.c(),R.m(C,null)):R&&(R.d(1),R=null),1&t&&v(s,"mobile-view",e[0])},i(e){L||(O(r.$$.fragment,e),O(c.$$.fragment,e),O($.$$.fragment,e),O(y.$$.fragment,e),O(b.$$.fragment,e),O(S.$$.fragment,e),O(z.$$.fragment,e),L=!0)},o(e){B(r.$$.fragment,e),B(c.$$.fragment,e),B($.$$.fragment,e),B(y.$$.fragment,e),B(b.$$.fragment,e),B(S.$$.fragment,e),B(z.$$.fragment,e),L=!1},d(e){e&&a(t),e&&a(n),U(r,e),e&&a(l),e&&a(s),U(c),U($),U(y),U(b),U(S),U(z),I.d(),R&&R.d()}}}function Xe(e,t,n){let r=!1,l=!1,s=ae.started;function o(){let e=document.getElementById("wrap");n(0,r=e.clientWidth<2*e.clientHeight)}ae.on("start",(()=>n(2,s=!0))),ae.on("canDisplayResults",(()=>n(1,l=!0))),ae.on("end",(()=>{n(1,l=!0),ae.emit("displayResult")})),b((()=>{o(),window.addEventListener("resize",o)}));return[r,l,s,async()=>{if(ce&&!confirm("Are you sure? Your old game data might be deleted!"))return;await ae.start(!0)||ae.alert("Minimum two players are required.",1e3)},()=>ae.startFromSaved(),()=>ae.emit("diceRoll"),()=>ae.save(),()=>{confirm("Are you sure? Your old game data might be deleted!")&&(ae.clearSaved(),window.location.href="?game")},()=>ae.emit("displayResult")]}class Ze extends F{constructor(e){super(),j(this,e,Xe,Ve,s,{})}}function et(t){let n;return{c(){n=d("div"),n.innerHTML='<h1 class="m-0 svelte-1qrebkq">Ludo</h1> \n\t\t<p class="m-0 svelte-1qrebkq">An awesome site to play ludo singleplayer for fun even with bots!</p> \n\n\t\t<a href="?game" class="cover-btn svelte-1qrebkq">Lets play!</a> \n\t\t<p class="credits m-0 svelte-1qrebkq">Made by <a href="https://github.com/scientific-dev" class="svelte-1qrebkq">scientific-dev</a></p>',h(n,"class","cover svelte-1qrebkq")},m(e,t){i(e,n,t)},i:e,o:e,d(e){e&&a(n)}}}function tt(e){let t,n;return t=new Ze({}),{c(){D(t.$$.fragment)},m(e,r){M(t,e,r),n=!0},i(e){n||(O(t.$$.fragment,e),n=!0)},o(e){B(t.$$.fragment,e),n=!1},d(e){U(t,e)}}}function nt(t){let n,r,l,s,o,c;const u=[tt,et],m=[];return l=function(e,t){return e[0]?0:1}(t),s=m[l]=u[l](t),{c(){n=d("div"),r=p(),s.c(),o=f(),h(n,"class","bg-cover svelte-1qrebkq")},m(e,t){i(e,n,t),i(e,r,t),m[l].m(e,t),i(e,o,t),c=!0},p:e,i(e){c||(O(s),c=!0)},o(e){B(s),c=!1},d(e){e&&a(n),e&&a(r),m[l].d(e),e&&a(o)}}}function rt(e){return[new URLSearchParams(window.location.search).has("game")]}return new class extends F{constructor(e){super(),j(this,e,rt,nt,s,{})}}({target:document.body})}();
