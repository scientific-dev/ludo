var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function r(e){e.forEach(t)}function l(e){return"function"==typeof e}function s(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function i(e,t){e.appendChild(t)}function o(e,t,n){e.insertBefore(t,n||null)}function a(e){e.parentNode.removeChild(e)}function c(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function d(e){return document.createElement(e)}function u(e){return document.createTextNode(e)}function f(){return u(" ")}function p(){return u("")}function m(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function h(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function $(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function g(e,t,n,r){e.style.setProperty(t,n,r?"important":"")}function v(e,t,n){e.classList[n?"add":"remove"](t)}let y;function w(e){y=e}function b(e){(function(){if(!y)throw new Error("Function called outside component initialization");return y})().$$.on_mount.push(e)}const x=[],S=[],k=[],z=[],C=Promise.resolve();let P=!1;function N(e){k.push(e)}const L=new Set;let T=0;function E(){const e=y;do{for(;T<x.length;){const e=x[T];T++,w(e),I(e.$$)}for(w(null),x.length=0,T=0;S.length;)S.pop()();for(let e=0;e<k.length;e+=1){const t=k[e];L.has(t)||(L.add(t),t())}k.length=0}while(x.length);for(;z.length;)z.pop()();P=!1,L.clear(),w(e)}function I(e){if(null!==e.fragment){e.update(),r(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(N)}}const R=new Set;let _;function A(){_={r:0,c:[],p:_}}function D(){_.r||r(_.c),_=_.p}function M(e,t){e&&e.i&&(R.delete(e),e.i(t))}function U(e,t,n,r){if(e&&e.o){if(R.has(e))return;R.add(e),_.c.push((()=>{R.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}}function O(e){e&&e.c()}function B(e,n,s,i){const{fragment:o,on_mount:a,on_destroy:c,after_update:d}=e.$$;o&&o.m(n,s),i||N((()=>{const n=a.map(t).filter(l);c?c.push(...n):r(n),e.$$.on_mount=[]})),d.forEach(N)}function H(e,t){const n=e.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function q(e,t){-1===e.$$.dirty[0]&&(x.push(e),P||(P=!0,C.then(E)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function j(t,l,s,i,o,c,d,u=[-1]){const f=y;w(t);const p=t.$$={fragment:null,ctx:null,props:c,update:e,not_equal:o,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(l.context||(f?f.$$.context:[])),callbacks:n(),dirty:u,skip_bound:!1,root:l.target||f.$$.root};d&&d(p.root);let m=!1;if(p.ctx=s?s(t,l.props||{},((e,n,...r)=>{const l=r.length?r[0]:n;return p.ctx&&o(p.ctx[e],p.ctx[e]=l)&&(!p.skip_bound&&p.bound[e]&&p.bound[e](l),m&&q(t,e)),n})):[],p.update(),m=!0,r(p.before_update),p.fragment=!!i&&i(p.ctx),l.target){if(l.hydrate){const e=function(e){return Array.from(e.childNodes)}(l.target);p.fragment&&p.fragment.l(e),e.forEach(a)}else p.fragment&&p.fragment.c();l.intro&&M(t.$$.fragment),B(t,l.target,l.anchor,l.customElement),E()}w(f)}class Y{$destroy(){H(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function F(t){let n,r;return{c(){n=d("div"),h(n,"class","coin svelte-1oo0wzo"),h(n,"id",r="coin-"+t[0]+"-"+t[1]),g(n,"background-color","var(--"+t[0]+"-player)")},m(e,t){o(e,n,t)},p(e,[t]){3&t&&r!==(r="coin-"+e[0]+"-"+e[1])&&h(n,"id",r),1&t&&g(n,"background-color","var(--"+e[0]+"-player)")},i:e,o:e,d(e){e&&a(n)}}}function J(e,t,n){let{code:r,i:l}=t;return e.$$set=e=>{"code"in e&&n(0,r=e.code),"i"in e&&n(1,l=e.i)},[r,l]}class G extends Y{constructor(e){super(),j(this,e,J,F,s,{code:0,i:1})}}function W(){}W.prototype={on:function(e,t,n){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var r=this;function l(){r.off(e,l),t.apply(n,arguments)}return l._=t,this.on(e,l,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),r=0,l=n.length;r<l;r++)n[r].fn.apply(n[r].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),r=n[e],l=[];if(r&&t)for(var s=0,i=r.length;s<i;s++)r[s].fn!==t&&r[s].fn._!==t&&l.push(r[s]);return l.length?n[e]=l:delete n[e],this}};var K=W;W.TinyEmitter=K;const V=[19,20,21,22,23,24,6,5,4,3,2,1,7,13,14,15,16,17,18,42,41,40,39,38,37,43,49,50,51,52,53,54,72,71,70,69,68,67,61,55,56,57,58,59,60,36,35,34,33,32,31,25],Q={red:20,blue:14,yellow:50,green:56},X={red:[26,27,28,29,30],blue:[8,9,10,11,12],yellow:[44,45,46,47,48],green:[62,63,64,65,66]},Z=[33,69,39,3,...Object.values(Q)],ee=Object.fromEntries(["red","yellow","green","blue"].map((e=>{let t=V.indexOf(Q[e]),n=V.slice(t,t+51);return 51!=n.length&&(n=n.concat(V.slice(0,51-n.length))),[e,n.concat(X[e])]}))),te=['<div class="dot"></div>','<div class="dot"></div>'.repeat(2),'<div class="dot"></div>'.repeat(3),'<div class="flex"><div class="dot"></div> <div class="dot"></div></div>'.repeat(2),'\n        <div class="flex"><div class="dot"></div> <div class="e-dot"></div> <div class="dot"></div></div> \n        <div class="flex"><div class="e-dot"></div> <div class="dot"></div></div> \n        <div class="flex"><div class="dot"></div> <div class="e-dot"></div> <div class="dot"></div></div>\n    ','<div class="flex"><div class="dot"></div> <div class="dot"></div></div>'.repeat(3)];class ne{constructor(){let e=document.createElement("div");e.className="alert",e.style.opacity=0,this.element=e}setInnerHTML(e){return this.element.innerHTML=e,this}appendChildren(...e){return this.element.append(...e),this}setParent(e){return this.parent=e,this.parent.prepend(this.element),this}removeParent(){return this.parent.removeChild(this.element),this}async display(e=200){return await le(e),this.element.style.opacity=1,this}async undisplay(){return this.element.style.opacity=0,await le(200),this.removeParent()}}class re{static NULL_PLAYER=new re("No Player","null").null();kills=0;cors=[null,null,null,null];constructor(e,t,n){this.name=e,this.color=t,n&&(this.isBot=!0)}static fromJSON(e){let t=new re(e.name,e.color);return t.cors=e.cors,t.kills=e.kills,e.rank&&(t.rank=e.rank),e.bot&&(t.isBot=e.bot),t}get coinsReached(){return this.cors.filter((e=>isNaN(e))).length}get coinsAtStart(){return this.cors.filter((e=>"object"==typeof e)).length}get coinsOutside(){return this.cors.filter((e=>!isNaN(e)&&"number"==typeof e)).length}get completed(){return 4==this.coinsReached}get startPoint(){return Q[this.color]}get activeCoinsIndices(){let e=[];for(let t=0;t<this.cors.length;t++){let n=this.cors[t];isNaN(n)||"number"!=typeof n||e.push(t)}return e}get coinsInsideIndices(){let e=[];for(let t=0;t<this.cors.length;t++)"object"==typeof this.cors[t]&&e.push(t);return e}get type(){return this.isBot?"bot":this.isNull?"null":"player"}null(){return this.isNull=!0,this}}async function le(e){return new Promise((t=>setTimeout(t,e)))}function se(e){return Math.floor(Math.random()*e)}function ie(e){return 1==e?"1st":2==e?"2nd":3==e?"3rd":`${e}th`}Array.prototype.random=function(){return this[Math.floor(Math.random()*this.length)]},String.prototype.toProperCase=function(){return this.charAt(0).toUpperCase()+this.substring(1).toLowerCase()},Element.prototype.setNodeIDCss=function(){for(let e=0;e<this.children.length;e++)this.children[e].style.setProperty("--node-id",e+1)};const oe=new class extends K{started=!1;ended=!1;activePlayers=[];currentTurn=0;ranks=[];players={red:new re("You","red"),green:re.NULL_PLAYER,yellow:re.NULL_PLAYER,blue:re.NULL_PLAYER};get playersArray(){return Object.values(this.players)}get playerCount(){return this.playersArray.filter((e=>!e.isNull)).length}get currentTurnPlayer(){return this.activePlayers[this.currentTurn]}get completed(){for(let e=0;e<this.activePlayers.length;e++)if(!this.activePlayers[e].completed)return!1;return!0}nextTurn(){let e=this.activePlayers.length-1;this.currentTurn+=this.currentTurn==e?-e:1}onWindowLoad(){let e=document.createElement("style");e.innerHTML=Z.map((e=>`#step-${e} {background-color:var(--dark-wood)!important}`)).join(""),e.innerHTML+=Object.entries(Q).map((([e,t])=>`#step-${t} {background-color:var(--${e}-player)!important}`)).join(""),document.getElementById("wrap").append(e),this.started&&(this.emit("start"),this.alert("Resuming your game...",1200))}createPlayer(e){let t=Object.entries(this.players).find((([e,t])=>t.isNull));return t?(this.players[t[0]]=new re(e?"Bot":"Player",t[0],e),this.emit(`${t[0]}Update`).emit("playerCountUpdate"),this.players[t[0]]):null}deletePlayer(e){if(1==this.playerCount)return null;let t=this.players[e];return this.players[e]=re.NULL_PLAYER,this.emit(`${e}Update`).emit("playerCountUpdate"),t}updatePlayerName(e,t){this.players[e].name=t,this.emit(`${e}Update`)}async start(e=!1){return!this.started&&(this.activePlayers=[],Object.entries(this.players).forEach((e=>{e[1].isNull||this.activePlayers.push(e[1])})),!(this.activePlayers.length<2)&&(this.started=!0,this.emit("start"),this.clearSaved(),e&&await this.alert("The game has started...",1e3),this.startTurns()))}async startTurns(){let e=!1;for(;!this.completed;){let t=this.currentTurnPlayer,n=!t.isBot;if(this.save(),!e){if(t.completed)continue;this.emit("turn",t.color),n&&await this.waitForEvent("diceRoll")}let r=await this.diceRoll(t.name+"'s")+1,l=t.coinsInsideIndices,s=6==r;if(e=s,4==l.length)s?(t.cors[0]=0,await this.moveCoin(t.color,1,t.startPoint),this.emit(`${t.color}Update`)):await this.alert("Unfortunate!",1200);else{let i;if(s&&this.emit(`${t.color}PrisonSelectable`),n?(await this.alert("Select your move...",1100),i=await this.waitForEvent(`${t.color}Select`)):i=this.getRandomBotChoice(t,s),"prison"==i){let e=l.random();t.cors[e]=0,await this.moveCoin(t.color,e+1,t.startPoint),this.emit(`${t.color}Update`)}else if("number"==typeof i[0]){let[n,l]=await this.moveCoinInPath(t.color,i[0],t,r);e=e||n,isNaN(l)||(e=await this.killCoins(t,l)||e)}s&&this.emit(`${t.color}PrisonSelectable`)}6==r||e?await this.alert("Rolling again...",750):this.nextTurn()}return this.emit("end"),!0}async alert(e,t=2e3){let n=await(new ne).setParent(document.querySelector(".board-wrapper")).setInnerHTML(`<p>${e}</p>`).display(0);await le(t),await n.undisplay()}async diceRoll(e="Your",t=se(6)){let n=document.createElement("p");n.innerHTML=`${e} Turn`;let r=document.createElement("div");r.className="dice",r.innerHTML=this.getRandomDiceSideHTML();let l=await(new ne).appendChildren(n,r).setParent(document.querySelector(".board-wrapper")).display();for(let e=0;e<4;e++)await le(50*e),r.innerHTML=this.getRandomDiceSideHTML();return await le(200),r.innerHTML=this.getDiceSideHTML(t),await le(400),r.style.transform="scale(1.2)",await le(250),r.style.transform="scale(1)",await le(750),await l.undisplay(),t}async killCoins(e,t){if(!Z.includes(t))for(let n=0;n<this.activePlayers.length;n++){let r=this.activePlayers[n];if(r==e)continue;let l=ee[r.color],s=0;for(let e=0;e<r.cors.length;e++)l[r.cors[e]]==t&&(r.cors[e]=null,s+=1,await this.moveCoinToPrison(r.color,e+1));if(s)return e.kills+=s,this.emit(`${r.color}Update`).emit(`${e.color}Update`),!0}}async moveCoin(e,t,n){let r=document.getElementById(`coin-${e}-${t}`),l=document.getElementById(`step-${n}`),s=r.cloneNode();r.classList.add("coin-exit"),await le(500),r.parentElement.removeChild(r),s.addEventListener("click",(()=>this.emit(`${e}Select`,t))),s.classList.add("coin-active"),l.appendChild(s),l.setNodeIDCss(),await le(400)}async moveCoinInPath(e,t,n,r){let l=`coin-${e}-${t}`,s=n.cors[t-1]+r,i=ee[e][s];if(!i){let r=document.getElementById(l);return r.parentElement.removeChild(r),n.cors[t-1]=NaN,await this.alert(`${n.name}'s coin has reached the house!`,1100),n.completed&&(await this.alert(`${n.name} has won the ${ie(this.ranks.length)} place!`,1100),this.ranks.push(n),n.rank=this.ranks.length,this.emit("canDisplayResults")),this.emit(`${e}Update`),[!0,NaN]}return n.cors[t-1]=s,await this.moveCoin(e,t,i),[!1,i]}async moveCoinToPrison(e,t){let n=document.getElementById(`coin-${e}-${t}`),r=n.parentElement,l=n.cloneNode();n.classList.add("coin-exit"),await le(500),n.parentElement.removeChild(n),l.classList.add("coin-active"),document.querySelector(`#prison-${e} .prison-inner div`).appendChild(l),r.setNodeIDCss(),await le(400)}waitForEvent(e){return new Promise((t=>{const n=(...r)=>{this.off(e,n),t(r)};this.on(e,n)}))}getRandomBotChoice(e,t){return window.kek=e,t&&se(2)?"house":[e.activeCoinsIndices.random()+1]}getRandomDiceSideHTML(){return this.getDiceSideHTML(se(6))}getDiceSideHTML(e){return`<div class="dside-${e+1}">${te[e]}</div>`}toJSON(){return{started:this.started,ended:this.ended,currentTurn:this.currentTurn,ranks:this.ranks.map((e=>e.color)),players:this.activePlayers.map((e=>({kills:e.kills,cors:e.cors,name:e.name,color:e.color,bot:e.isBot})))}}save(){localStorage.setItem("ludo_data",JSON.stringify(this.toJSON()))}clearSaved(){localStorage.removeItem("ludo_data")}async startFromSaved(){let e=JSON.parse(localStorage.getItem("ludo_data")||"{}"),t=[];if(e.started){this.started=!0,this.currentTurn=e.currentTurn,this.activePlayers=e.players.map(re.fromJSON),this.players.red=re.NULL_PLAYER;for(let e=0;e<this.activePlayers.length;e++){let n=this.activePlayers[e],r=ee[n.color];this.players[n.color]=n,this.emit(`${n.color}Update`);for(let e=0;e<n.cors.length;e++){let l=n.cors[e];isNaN(l)||"number"!=typeof l||t.push(this.moveCoin(n.color,e+1,r[l]))}}for(let t=0;t<e.ranks.length;t++)this.ranks.push(this.players[e.ranks[t]])}this.emit("start"),await Promise.all(t),e.started?(await this.alert("The game has resumed...",1e3),await this.startTurns()):e.ended&&this.emit("displayResult")}},ae=Boolean(localStorage.getItem("ludo_data"));function ce(e){let t,n,r,l,s,c,u,p,$,v,y,w,b,x,S;return l=new G({props:{code:e[1],i:1}}),c=new G({props:{code:e[1],i:2}}),p=new G({props:{code:e[1],i:3}}),v=new G({props:{code:e[1],i:4}}),{c(){t=d("div"),n=d("div"),r=d("div"),O(l.$$.fragment),s=f(),O(c.$$.fragment),u=f(),O(p.$$.fragment),$=f(),O(v.$$.fragment),h(r,"class","flex flex-wrap"),h(n,"class","prison-inner svelte-o2wsg6"),g(n,"margin",(e[2]-e[3]-10)/2+"px"),g(n,"width",e[3]+"px"),h(t,"class",y="prison "+(e[0]?"prison-selectable":"")+" svelte-o2wsg6"),g(t,"width",e[2]+"px"),g(t,"height",e[2]+"px"),h(t,"id",w="prison-"+e[1])},m(a,d){o(a,t,d),i(t,n),i(n,r),B(l,r,null),i(r,s),B(c,r,null),i(r,u),B(p,r,null),i(r,$),B(v,r,null),b=!0,x||(S=m(t,"click",e[5]),x=!0)},p(e,[r]){const s={};2&r&&(s.code=e[1]),l.$set(s);const i={};2&r&&(i.code=e[1]),c.$set(i);const o={};2&r&&(o.code=e[1]),p.$set(o);const a={};2&r&&(a.code=e[1]),v.$set(a),(!b||12&r)&&g(n,"margin",(e[2]-e[3]-10)/2+"px"),(!b||8&r)&&g(n,"width",e[3]+"px"),(!b||1&r&&y!==(y="prison "+(e[0]?"prison-selectable":"")+" svelte-o2wsg6"))&&h(t,"class",y),(!b||4&r)&&g(t,"width",e[2]+"px"),(!b||4&r)&&g(t,"height",e[2]+"px"),(!b||2&r&&w!==(w="prison-"+e[1]))&&h(t,"id",w)},i(e){b||(M(l.$$.fragment,e),M(c.$$.fragment,e),M(p.$$.fragment,e),M(v.$$.fragment,e),b=!0)},o(e){U(l.$$.fragment,e),U(c.$$.fragment,e),U(p.$$.fragment,e),U(v.$$.fragment,e),b=!1},d(e){e&&a(t),H(l),H(c),H(p),H(v),x=!1,S()}}}function de(e,t,n){let r,{code:l,cellSize:s,prisonSize:i,prisonSelectable:o}=t;oe.on(`${l}PrisonSelectable`,(()=>n(0,o=!o)));return e.$$set=e=>{"code"in e&&n(1,l=e.code),"cellSize"in e&&n(4,s=e.cellSize),"prisonSize"in e&&n(2,i=e.prisonSize),"prisonSelectable"in e&&n(0,o=e.prisonSelectable)},e.$$.update=()=>{16&e.$$.dirty&&n(3,r=2*s+12)},[o,l,i,r,s,()=>{o&&oe.emit(`${l}Select`,"prison")}]}class ue extends Y{constructor(e){super(),j(this,e,de,ce,s,{code:1,cellSize:4,prisonSize:2,prisonSelectable:0})}}function fe(t){let n,r,l;return{c(){n=d("div"),h(n,"class","step svelte-1c1f2ll"),h(n,"id",r="step-"+t[0]),h(n,"style",l=t[1]?`background-color: var(--${t[1]}-player);`:"")},m(e,t){o(e,n,t)},p(e,[t]){1&t&&r!==(r="step-"+e[0])&&h(n,"id",r),2&t&&l!==(l=e[1]?`background-color: var(--${e[1]}-player);`:"")&&h(n,"style",l)},i:e,o:e,d(e){e&&a(n)}}}function pe(e,t,n){let{i:r}=t,{color:l=null}=t;return e.$$set=e=>{"i"in e&&n(0,r=e.i),"color"in e&&n(1,l=e.color)},[r,l]}class me extends Y{constructor(e){super(),j(this,e,pe,fe,s,{i:0,color:1})}}function he(e,t,n){const r=e.slice();return r[4]=t[n],r[6]=n,r}function $e(e,t,n){const r=e.slice();return r[4]=t[n],r[6]=n,r}function ge(e){let t,n,r,l;t=new me({props:{i:e[1],cellSize:e[0]}});let s=Array(5),i=[];for(let t=0;t<s.length;t+=1)i[t]=ye(he(e,s,t));const d=e=>U(i[e],1,1,(()=>{i[e]=null}));return{c(){O(t.$$.fragment),n=f();for(let e=0;e<i.length;e+=1)i[e].c();r=p()},m(e,s){B(t,e,s),o(e,n,s);for(let t=0;t<i.length;t+=1)i[t].m(e,s);o(e,r,s),l=!0},p(e,n){const l={};if(2&n&&(l.i=e[1]),1&n&&(l.cellSize=e[0]),t.$set(l),10&n){let t;for(s=Array(5),t=0;t<s.length;t+=1){const l=he(e,s,t);i[t]?(i[t].p(l,n),M(i[t],1)):(i[t]=ye(l),i[t].c(),M(i[t],1),i[t].m(r.parentNode,r))}for(A(),t=s.length;t<i.length;t+=1)d(t);D()}},i(e){if(!l){M(t.$$.fragment,e);for(let e=0;e<s.length;e+=1)M(i[e]);l=!0}},o(e){U(t.$$.fragment,e),i=i.filter(Boolean);for(let e=0;e<i.length;e+=1)U(i[e]);l=!1},d(e){H(t,e),e&&a(n),c(i,e),e&&a(r)}}}function ve(e){let t,n,r=Array(6),l=[];for(let t=0;t<r.length;t+=1)l[t]=we($e(e,r,t));const s=e=>U(l[e],1,1,(()=>{l[e]=null}));return{c(){for(let e=0;e<l.length;e+=1)l[e].c();t=p()},m(e,r){for(let t=0;t<l.length;t+=1)l[t].m(e,r);o(e,t,r),n=!0},p(e,n){if(3&n){let i;for(r=Array(6),i=0;i<r.length;i+=1){const s=$e(e,r,i);l[i]?(l[i].p(s,n),M(l[i],1)):(l[i]=we(s),l[i].c(),M(l[i],1),l[i].m(t.parentNode,t))}for(A(),i=r.length;i<l.length;i+=1)s(i);D()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)M(l[e]);n=!0}},o(e){l=l.filter(Boolean);for(let e=0;e<l.length;e+=1)U(l[e]);n=!1},d(e){c(l,e),e&&a(t)}}}function ye(e){let t,n;return t=new me({props:{i:e[1]+e[6]+1,color:e[3]}}),{c(){O(t.$$.fragment)},m(e,r){B(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.i=e[1]+e[6]+1),8&n&&(r.color=e[3]),t.$set(r)},i(e){n||(M(t.$$.fragment,e),n=!0)},o(e){U(t.$$.fragment,e),n=!1},d(e){H(t,e)}}}function we(e){let t,n;return t=new me({props:{i:e[1]+e[6],cellSize:e[0]}}),{c(){O(t.$$.fragment)},m(e,r){B(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.i=e[1]+e[6]),1&n&&(r.cellSize=e[0]),t.$set(r)},i(e){n||(M(t.$$.fragment,e),n=!0)},o(e){U(t.$$.fragment,e),n=!1},d(e){H(t,e)}}}function be(e){let t,n,r,l,s;const i=[ve,ge],c=[];function u(e,t){return e[3]?1:0}return n=u(e),r=c[n]=i[n](e),{c(){t=d("div"),r.c(),h(t,"class",l="flex flex-nowrap flex-"+e[2])},m(e,r){o(e,t,r),c[n].m(t,null),s=!0},p(e,[o]){let a=n;n=u(e),n===a?c[n].p(e,o):(A(),U(c[a],1,1,(()=>{c[a]=null})),D(),r=c[n],r?r.p(e,o):(r=c[n]=i[n](e),r.c()),M(r,1),r.m(t,null)),(!s||4&o&&l!==(l="flex flex-nowrap flex-"+e[2]))&&h(t,"class",l)},i(e){s||(M(r),s=!0)},o(e){U(r),s=!1},d(e){e&&a(t),c[n].d()}}}function xe(e,t,n){let{cellSize:r,offsetIndex:l}=t,{flexDirection:s="row"}=t,{color:i=null}=t;return e.$$set=e=>{"cellSize"in e&&n(0,r=e.cellSize),"offsetIndex"in e&&n(1,l=e.offsetIndex),"flexDirection"in e&&n(2,s=e.flexDirection),"color"in e&&n(3,i=e.color)},[r,l,s,i]}class Se extends Y{constructor(e){super(),j(this,e,xe,be,s,{cellSize:0,offsetIndex:1,flexDirection:2,color:3})}}function ke(e){let t,n,r,l,s,c,u,p,m,$,v,y,w,b,x,S,k,z,C,P,N,L,T,E,I,R,_,A,D,q,j,Y,F,J,G,W,K,V,Q,X,Z,ee;return s=new ue({props:{code:"red",cellSize:e[1],prisonSize:e[2]}}),u=new Se({props:{cellSize:e[1],offsetIndex:1,flexDirection:"column"}}),m=new Se({props:{cellSize:e[1],offsetIndex:7,flexDirection:"column",color:"blue"}}),v=new Se({props:{cellSize:e[1],offsetIndex:13,flexDirection:"column"}}),w=new ue({props:{code:"blue",cellSize:e[1],prisonSize:e[2]}}),k=new Se({props:{cellSize:e[1],offsetIndex:19}}),C=new Se({props:{cellSize:e[1],offsetIndex:25,color:"red"}}),N=new Se({props:{cellSize:e[1],offsetIndex:31}}),R=new Se({props:{cellSize:e[1],offsetIndex:37,flexDirection:"row-r"}}),A=new Se({props:{cellSize:e[1],offsetIndex:43,flexDirection:"row-r",color:"yellow"}}),q=new Se({props:{cellSize:e[1],offsetIndex:49,flexDirection:"row-r"}}),F=new ue({props:{code:"green",cellSize:e[1],prisonSize:e[2]}}),G=new Se({props:{cellSize:e[1],offsetIndex:55,flexDirection:"column-r"}}),K=new Se({props:{cellSize:e[1],offsetIndex:61,flexDirection:"column-r",color:"green"}}),Q=new Se({props:{cellSize:e[1],offsetIndex:67,flexDirection:"column-r"}}),Z=new ue({props:{code:"yellow",cellSize:e[1],prisonSize:e[2]}}),{c(){t=d("div"),n=d("div"),r=d("div"),l=d("div"),O(s.$$.fragment),c=f(),O(u.$$.fragment),p=f(),O(m.$$.fragment),$=f(),O(v.$$.fragment),y=f(),O(w.$$.fragment),b=f(),x=d("div"),S=d("div"),O(k.$$.fragment),z=f(),O(C.$$.fragment),P=f(),O(N.$$.fragment),L=f(),T=d("div"),E=f(),I=d("div"),O(R.$$.fragment),_=f(),O(A.$$.fragment),D=f(),O(q.$$.fragment),j=f(),Y=d("div"),O(F.$$.fragment),J=f(),O(G.$$.fragment),W=f(),O(K.$$.fragment),V=f(),O(Q.$$.fragment),X=f(),O(Z.$$.fragment),h(l,"class","flex flex-nowrap"),g(T,"width",3*e[3]+"px"),h(x,"class","flex flex-nowrap"),h(Y,"class","flex flex-nowrap"),h(r,"class","board-inner w-full"),h(n,"class","board w-full h-full svelte-zy00mt"),h(t,"class","board-wrapper svelte-zy00mt"),g(t,"--board-width",e[0]+"px"),g(t,"--board-height",e[0]+"px"),g(t,"--cell-size",e[1]+"px")},m(e,a){o(e,t,a),i(t,n),i(n,r),i(r,l),B(s,l,null),i(l,c),B(u,l,null),i(l,p),B(m,l,null),i(l,$),B(v,l,null),i(l,y),B(w,l,null),i(r,b),i(r,x),i(x,S),B(k,S,null),i(S,z),B(C,S,null),i(S,P),B(N,S,null),i(x,L),i(x,T),i(x,E),i(x,I),B(R,I,null),i(I,_),B(A,I,null),i(I,D),B(q,I,null),i(r,j),i(r,Y),B(F,Y,null),i(Y,J),B(G,Y,null),i(Y,W),B(K,Y,null),i(Y,V),B(Q,Y,null),i(Y,X),B(Z,Y,null),ee=!0},p(e,[n]){const r={};2&n&&(r.cellSize=e[1]),4&n&&(r.prisonSize=e[2]),s.$set(r);const l={};2&n&&(l.cellSize=e[1]),u.$set(l);const i={};2&n&&(i.cellSize=e[1]),m.$set(i);const o={};2&n&&(o.cellSize=e[1]),v.$set(o);const a={};2&n&&(a.cellSize=e[1]),4&n&&(a.prisonSize=e[2]),w.$set(a);const c={};2&n&&(c.cellSize=e[1]),k.$set(c);const d={};2&n&&(d.cellSize=e[1]),C.$set(d);const f={};2&n&&(f.cellSize=e[1]),N.$set(f),(!ee||8&n)&&g(T,"width",3*e[3]+"px");const p={};2&n&&(p.cellSize=e[1]),R.$set(p);const h={};2&n&&(h.cellSize=e[1]),A.$set(h);const $={};2&n&&($.cellSize=e[1]),q.$set($);const y={};2&n&&(y.cellSize=e[1]),4&n&&(y.prisonSize=e[2]),F.$set(y);const b={};2&n&&(b.cellSize=e[1]),G.$set(b);const x={};2&n&&(x.cellSize=e[1]),K.$set(x);const S={};2&n&&(S.cellSize=e[1]),Q.$set(S);const z={};2&n&&(z.cellSize=e[1]),4&n&&(z.prisonSize=e[2]),Z.$set(z),(!ee||1&n)&&g(t,"--board-width",e[0]+"px"),(!ee||1&n)&&g(t,"--board-height",e[0]+"px"),(!ee||2&n)&&g(t,"--cell-size",e[1]+"px")},i(e){ee||(M(s.$$.fragment,e),M(u.$$.fragment,e),M(m.$$.fragment,e),M(v.$$.fragment,e),M(w.$$.fragment,e),M(k.$$.fragment,e),M(C.$$.fragment,e),M(N.$$.fragment,e),M(R.$$.fragment,e),M(A.$$.fragment,e),M(q.$$.fragment,e),M(F.$$.fragment,e),M(G.$$.fragment,e),M(K.$$.fragment,e),M(Q.$$.fragment,e),M(Z.$$.fragment,e),ee=!0)},o(e){U(s.$$.fragment,e),U(u.$$.fragment,e),U(m.$$.fragment,e),U(v.$$.fragment,e),U(w.$$.fragment,e),U(k.$$.fragment,e),U(C.$$.fragment,e),U(N.$$.fragment,e),U(R.$$.fragment,e),U(A.$$.fragment,e),U(q.$$.fragment,e),U(F.$$.fragment,e),U(G.$$.fragment,e),U(K.$$.fragment,e),U(Q.$$.fragment,e),U(Z.$$.fragment,e),ee=!1},d(e){e&&a(t),H(s),H(u),H(m),H(v),H(w),H(k),H(C),H(N),H(R),H(A),H(q),H(F),H(G),H(K),H(Q),H(Z)}}}function ze(e,t,n){let r,l,s,i;function o(){let e=document.getElementById("wrap");n(0,r=Math.min(e.clientHeight,e.clientWidth))}return b((()=>{o(),oe.onWindowLoad(),window.addEventListener("resize",o)})),e.$$.update=()=>{3&e.$$.dirty&&(n(1,l=(r-70)/15),n(2,s=6*l+24),n(3,i=l+4))},[r,l,s,i]}class Ce extends Y{constructor(e){super(),j(this,e,ze,ke,s,{})}}function Pe(e){let t,n,r,l,s,c,p,v,y,w,b,x,S,k,z,C,P,N,L,T,E,I,R,_,A,D,M,U,O,B,H,q,j,Y,F=e[3].coinsOutside+"",J=e[3].coinsAtStart+"",G=e[3].coinsReached+"",W=e[3].kills+"",K=!e[1]&&e[2]&&Ne(e);function V(e,t){return e[4]?Te:e[3].rank?Le:void 0}let Q=V(e),X=Q&&Q(e);return{c(){t=d("div"),n=d("div"),r=d("input"),c=f(),p=d("div"),v=d("p"),v.textContent="Coins Outside:",y=f(),w=d("p"),b=u(F),x=d("br"),S=f(),k=d("p"),k.textContent="Coins At Start:",z=f(),C=d("p"),P=u(J),N=d("br"),L=f(),T=d("p"),T.textContent="Coins Reached:",E=f(),I=d("p"),R=u(G),_=d("br"),A=f(),D=d("p"),D.textContent="Kills:",M=f(),U=d("p"),O=u(W),B=d("br"),H=f(),K&&K.c(),q=f(),X&&X.c(),h(r,"class","player-input svelte-14sxb61"),h(r,"type","text"),r.value=l=e[3].name.slice(0,10),r.readOnly=s=!e[2],h(n,"class","head"),g(n,"background-color","var(--"+e[0]+"-player)"),h(v,"class","inline-block strong svelte-14sxb61"),h(w,"class","inline-block svelte-14sxb61"),h(k,"class","inline-block strong svelte-14sxb61"),h(C,"class","inline-block svelte-14sxb61"),h(T,"class","inline-block strong svelte-14sxb61"),h(I,"class","inline-block svelte-14sxb61"),h(D,"class","inline-block strong svelte-14sxb61"),h(U,"class","inline-block svelte-14sxb61"),h(p,"class","foot"),h(t,"class","player-tab svelte-14sxb61")},m(l,s){o(l,t,s),i(t,n),i(n,r),i(t,c),i(t,p),i(p,v),i(p,y),i(p,w),i(w,b),i(p,x),i(p,S),i(p,k),i(p,z),i(p,C),i(C,P),i(p,N),i(p,L),i(p,T),i(p,E),i(p,I),i(I,R),i(p,_),i(p,A),i(p,D),i(p,M),i(p,U),i(U,O),i(p,B),i(p,H),K&&K.m(p,null),i(p,q),X&&X.m(p,null),j||(Y=m(r,"blur",e[6]),j=!0)},p(e,t){8&t&&l!==(l=e[3].name.slice(0,10))&&r.value!==l&&(r.value=l),4&t&&s!==(s=!e[2])&&(r.readOnly=s),1&t&&g(n,"background-color","var(--"+e[0]+"-player)"),8&t&&F!==(F=e[3].coinsOutside+"")&&$(b,F),8&t&&J!==(J=e[3].coinsAtStart+"")&&$(P,J),8&t&&G!==(G=e[3].coinsReached+"")&&$(R,G),8&t&&W!==(W=e[3].kills+"")&&$(O,W),!e[1]&&e[2]?K?K.p(e,t):(K=Ne(e),K.c(),K.m(p,q)):K&&(K.d(1),K=null),Q===(Q=V(e))&&X?X.p(e,t):(X&&X.d(1),X=Q&&Q(e),X&&(X.c(),X.m(p,null)))},d(e){e&&a(t),K&&K.d(),X&&X.d(),j=!1,Y()}}}function Ne(e){let t,n,r,l,s,c,f=e[3].type.toProperCase()+"";return{c(){t=d("a"),n=u("Remove "),r=u(f),l=u("?"),h(t,"href","#wrap")},m(a,d){o(a,t,d),i(t,n),i(t,r),i(t,l),s||(c=m(t,"click",e[5]),s=!0)},p(e,t){8&t&&f!==(f=e[3].type.toProperCase()+"")&&$(r,f)},d(e){e&&a(t),s=!1,c()}}}function Le(e){let t,n,r,l=ie(e[3].rank)+"";return{c(){t=d("p"),n=u(l),r=u(" Place"),h(t,"class","turn-label svelte-14sxb61")},m(e,l){o(e,t,l),i(t,n),i(t,r)},p(e,t){8&t&&l!==(l=ie(e[3].rank)+"")&&$(n,l)},d(e){e&&a(t)}}}function Te(t){let n;return{c(){n=d("p"),n.textContent="CURRENT TURN",h(n,"class","turn-label svelte-14sxb61")},m(e,t){o(e,n,t)},p:e,d(e){e&&a(n)}}}function Ee(t){let n,r=!t[3].isNull&&Pe(t);return{c(){r&&r.c(),n=p()},m(e,t){r&&r.m(e,t),o(e,n,t)},p(e,[t]){e[3].isNull?r&&(r.d(1),r=null):r?r.p(e,t):(r=Pe(e),r.c(),r.m(n.parentNode,n))},i:e,o:e,d(e){r&&r.d(e),e&&a(n)}}}function Ie(e,t,n){let{color:r,started:l}=t,{editable:s=!0}=t,i=oe.players[r],o=!1;s&&(oe.on(`${r}Update`,(()=>n(3,i=oe.players[r]))),oe.on("turn",(e=>n(4,o=e==r))));return e.$$set=e=>{"color"in e&&n(0,r=e.color),"started"in e&&n(1,l=e.started),"editable"in e&&n(2,s=e.editable)},[r,l,s,i,o,function(){oe.deletePlayer(r)||oe.alert("You cannot remove yourself from the game!")},e=>{s&&(oe.updatePlayerName(r,e.target.value),oe.alert("Name updated",1e3))}]}class Re extends Y{constructor(e){super(),j(this,e,Ie,Ee,s,{color:0,started:1,editable:2})}}function _e(t){let n,l,s,c,u,p,$,v,y;return{c(){n=d("div"),l=d("div"),l.innerHTML='<h3 class="svelte-4moyru">Add</h3>',s=f(),c=d("div"),u=d("a"),u.textContent="Add Player?",p=f(),$=d("a"),$.textContent="Add Bot?",h(l,"class","head"),g(l,"background-color","var(--dull-player)"),h(u,"href","#wrap"),h($,"href","#wrap"),h(c,"class","foot"),h(n,"class","player-tab svelte-4moyru")},m(e,r){o(e,n,r),i(n,l),i(n,s),i(n,c),i(c,u),i(c,p),i(c,$),v||(y=[m(u,"click",t[2]),m($,"click",t[3])],v=!0)},p:e,d(e){e&&a(n),v=!1,r(y)}}}function Ae(t){let n,r=!t[0]&&t[1]&&_e(t);return{c(){r&&r.c(),n=p()},m(e,t){r&&r.m(e,t),o(e,n,t)},p(e,[t]){!e[0]&&e[1]?r?r.p(e,t):(r=_e(e),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},i:e,o:e,d(e){r&&r.d(e),e&&a(n)}}}function De(e,t,n){let{started:r}=t,l=4!=oe.playerCount;oe.on("playerCountUpdate",(()=>n(1,l=4!=oe.playerCount)));return e.$$set=e=>{"started"in e&&n(0,r=e.started)},[r,l,()=>{oe.createPlayer()||oe.alert("Player limit has been reached...")},()=>{oe.createPlayer(!0)||oe.alert("Player limit has been reached...")}]}class Me extends Y{constructor(e){super(),j(this,e,De,Ae,s,{started:0})}}function Ue(e,t,n){const r=e.slice();return r[3]=t[n],r[5]=n,r}function Oe(t){let n,r,l,s,u,p,$,g,v,y,w,b,x,S,k=oe.ranks.length&&function(t){let n;return{c(){n=d("p"),n.textContent=`${oe.ranks[0].name} has won the game!`,h(n,"class","svelte-czy7cr")},m(e,t){o(e,n,t)},p:e,d(e){e&&a(n)}}}(),z=oe.ranks,C=[];for(let e=0;e<z.length;e+=1)C[e]=Be(Ue(t,z,e));const P=e=>U(C[e],1,1,(()=>{C[e]=null}));return{c(){n=d("div"),r=f(),l=d("div"),s=d("h3"),s.textContent="Result",u=f(),k&&k.c(),p=f(),$=d("h5"),$.textContent="Rankings",g=f(),v=d("div");for(let e=0;e<C.length;e+=1)C[e].c();y=f(),w=d("a"),w.textContent="Close Tab",h(n,"class","result-wrap svelte-czy7cr"),h(s,"class","svelte-czy7cr"),h($,"class","svelte-czy7cr"),h(v,"class","result-players-tab svelte-czy7cr"),h(w,"href","#wrap"),h(w,"class","svelte-czy7cr"),h(l,"class","result-tab svelte-czy7cr")},m(e,a){o(e,n,a),o(e,r,a),o(e,l,a),i(l,s),i(l,u),k&&k.m(l,null),i(l,p),i(l,$),i(l,g),i(l,v);for(let e=0;e<C.length;e+=1)C[e].m(v,null);i(l,y),i(l,w),b=!0,x||(S=m(w,"click",t[2]),x=!0)},p(e,t){if(oe.ranks.length&&k.p(e,t),1&t){let n;for(z=oe.ranks,n=0;n<z.length;n+=1){const r=Ue(e,z,n);C[n]?(C[n].p(r,t),M(C[n],1)):(C[n]=Be(r),C[n].c(),M(C[n],1),C[n].m(v,null))}for(A(),n=z.length;n<C.length;n+=1)P(n);D()}},i(e){if(!b){for(let e=0;e<z.length;e+=1)M(C[e]);b=!0}},o(e){C=C.filter(Boolean);for(let e=0;e<C.length;e+=1)U(C[e]);b=!1},d(e){e&&a(n),e&&a(r),e&&a(l),k&&k.d(),c(C,e),x=!1,S()}}}function Be(e){let t,n;return t=new Re({props:{color:e[3].color,editable:!1,started:e[0]}}),{c(){O(t.$$.fragment)},m(e,r){B(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.started=e[0]),t.$set(r)},i(e){n||(M(t.$$.fragment,e),n=!0)},o(e){U(t.$$.fragment,e),n=!1},d(e){H(t,e)}}}function He(e){let t,n,r=e[1]&&Oe(e);return{c(){r&&r.c(),t=p()},m(e,l){r&&r.m(e,l),o(e,t,l),n=!0},p(e,[n]){e[1]?r?(r.p(e,n),2&n&&M(r,1)):(r=Oe(e),r.c(),M(r,1),r.m(t.parentNode,t)):r&&(A(),U(r,1,1,(()=>{r=null})),D())},i(e){n||(M(r),n=!0)},o(e){U(r),n=!1},d(e){r&&r.d(e),e&&a(t)}}}function qe(e,t,n){let{started:r}=t,l=!1;oe.on("displayResult",(()=>n(1,l=!0)));return e.$$set=e=>{"started"in e&&n(0,r=e.started)},[r,l,()=>n(1,l=!1)]}class je extends Y{constructor(e){super(),j(this,e,qe,He,s,{started:0})}}function Ye(t){let n,l,s,i,c,u,p;return{c(){n=d("a"),n.textContent="Roll Dice",l=f(),s=d("a"),s.textContent="Save Game",i=f(),c=d("a"),c.textContent="New Game",h(n,"class","player-tab-btn svelte-18qy2fy"),h(n,"href","#wrap"),h(s,"class","player-tab-btn svelte-18qy2fy"),h(s,"href","#wrap"),h(c,"class","player-tab-btn svelte-18qy2fy"),h(c,"href","#wrap")},m(e,r){o(e,n,r),o(e,l,r),o(e,s,r),o(e,i,r),o(e,c,r),u||(p=[m(n,"click",t[6]),m(s,"click",t[7]),m(c,"click",t[8])],u=!0)},p:e,d(e){e&&a(n),e&&a(l),e&&a(s),e&&a(i),e&&a(c),u=!1,r(p)}}}function Fe(t){let n,r,l,s,i,c,u=ae&&function(t){let n,r,l;return{c(){n=d("a"),n.textContent="Resume Game",h(n,"class","player-tab-btn svelte-18qy2fy"),h(n,"href","#wrap")},m(e,s){o(e,n,s),r||(l=m(n,"click",t[4]),r=!0)},p:e,d(e){e&&a(n),r=!1,l()}}}(t),$=t[1]&&Je(t);return{c(){n=d("a"),n.textContent="New Game",r=f(),u&&u.c(),l=f(),$&&$.c(),s=p(),h(n,"class","player-tab-btn svelte-18qy2fy"),h(n,"href","#wrap")},m(e,a){o(e,n,a),o(e,r,a),u&&u.m(e,a),o(e,l,a),$&&$.m(e,a),o(e,s,a),i||(c=m(n,"click",t[3]),i=!0)},p(e,t){ae&&u.p(e,t),e[1]?$?$.p(e,t):($=Je(e),$.c(),$.m(s.parentNode,s)):$&&($.d(1),$=null)},d(e){e&&a(n),e&&a(r),u&&u.d(e),e&&a(l),$&&$.d(e),e&&a(s),i=!1,c()}}}function Je(t){let n,r,l;return{c(){n=d("a"),n.textContent="Results",h(n,"class","player-tab-btn svelte-18qy2fy"),h(n,"href","#wrap")},m(e,s){o(e,n,s),r||(l=m(n,"click",t[5]),r=!0)},p:e,d(e){e&&a(n),r=!1,l()}}}function Ge(e){let t,n,r,l,s,c,u,p,m,$,g,y,w,b,x,S,k,z,C,P,N;function L(e,t){return e[2]?Ye:Fe}r=new je({props:{started:e[2]}}),c=new Ce({}),$=new Re({props:{color:"red",started:e[2]}}),y=new Re({props:{color:"yellow",started:e[2]}}),b=new Re({props:{color:"blue",started:e[2]}}),S=new Re({props:{color:"green",started:e[2]}}),z=new Me({props:{started:e[2]}});let T=L(e),E=T(e);return{c(){t=d("div"),n=f(),O(r.$$.fragment),l=f(),s=d("div"),O(c.$$.fragment),u=f(),p=d("div"),m=d("div"),O($.$$.fragment),g=f(),O(y.$$.fragment),w=f(),O(b.$$.fragment),x=f(),O(S.$$.fragment),k=f(),O(z.$$.fragment),C=f(),P=d("div"),E.c(),h(t,"class","wrap svelte-18qy2fy"),h(t,"id","wrap"),h(m,"class","flex flex-wrap"),h(P,"class","flex flex-wrap"),h(p,"class","players-tab svelte-18qy2fy"),h(s,"class","flex svelte-18qy2fy"),v(s,"mobile-view",e[0])},m(e,a){o(e,t,a),o(e,n,a),B(r,e,a),o(e,l,a),o(e,s,a),B(c,s,null),i(s,u),i(s,p),i(p,m),B($,m,null),i(m,g),B(y,m,null),i(m,w),B(b,m,null),i(m,x),B(S,m,null),i(m,k),B(z,m,null),i(p,C),i(p,P),E.m(P,null),N=!0},p(e,[t]){const n={};4&t&&(n.started=e[2]),r.$set(n);const l={};4&t&&(l.started=e[2]),$.$set(l);const i={};4&t&&(i.started=e[2]),y.$set(i);const o={};4&t&&(o.started=e[2]),b.$set(o);const a={};4&t&&(a.started=e[2]),S.$set(a);const c={};4&t&&(c.started=e[2]),z.$set(c),T===(T=L(e))&&E?E.p(e,t):(E.d(1),E=T(e),E&&(E.c(),E.m(P,null))),1&t&&v(s,"mobile-view",e[0])},i(e){N||(M(r.$$.fragment,e),M(c.$$.fragment,e),M($.$$.fragment,e),M(y.$$.fragment,e),M(b.$$.fragment,e),M(S.$$.fragment,e),M(z.$$.fragment,e),N=!0)},o(e){U(r.$$.fragment,e),U(c.$$.fragment,e),U($.$$.fragment,e),U(y.$$.fragment,e),U(b.$$.fragment,e),U(S.$$.fragment,e),U(z.$$.fragment,e),N=!1},d(e){e&&a(t),e&&a(n),H(r,e),e&&a(l),e&&a(s),H(c),H($),H(y),H(b),H(S),H(z),E.d()}}}function We(e,t,n){let r=!1,l=!1,s=oe.started;function i(){let e=document.getElementById("wrap");n(0,r=e.clientWidth<2*e.clientHeight)}oe.on("start",(()=>n(2,s=!0))),oe.on("canDisplayResults",(()=>n(1,l=!0))),oe.on("end",(()=>{n(1,l=!0),oe.emit("displayResult")})),b((()=>{i(),window.addEventListener("resize",i)}));return[r,l,s,async()=>{if(ae&&!confirm("Are you sure? Your old game data might be deleted!"))return;await oe.start(!0)||oe.alert("Minimum two players are required.",1e3)},()=>oe.startFromSaved(),()=>oe.emit("displayResult"),()=>oe.emit("diceRoll"),()=>oe.save(),()=>{confirm("Are you sure? Your old game data might be deleted!")&&(oe.clearSaved(),window.location.href="?game")}]}class Ke extends Y{constructor(e){super(),j(this,e,We,Ge,s,{})}}function Ve(t){let n;return{c(){n=d("div"),n.innerHTML='<h1 class="m-0 svelte-8vab78">Ludo</h1> \n\t\t<p class="m-0 svelte-8vab78">A simple site to play Ludo (Pachisi Variant)!</p> \n\n\t\t<a href="?game" class="cover-btn svelte-8vab78">Lets play!</a> \n\t\t<p class="credits m-0 svelte-8vab78">Made by <a href="https://github.com/scientific-dev" class="svelte-8vab78">scientific-dev</a></p>',h(n,"class","cover svelte-8vab78")},m(e,t){o(e,n,t)},i:e,o:e,d(e){e&&a(n)}}}function Qe(e){let t,n;return t=new Ke({}),{c(){O(t.$$.fragment)},m(e,r){B(t,e,r),n=!0},i(e){n||(M(t.$$.fragment,e),n=!0)},o(e){U(t.$$.fragment,e),n=!1},d(e){H(t,e)}}}function Xe(t){let n,r,l,s,i,c;const u=[Qe,Ve],m=[];return l=function(e,t){return e[0]?0:1}(t),s=m[l]=u[l](t),{c(){n=d("div"),r=f(),s.c(),i=p(),h(n,"class","bg-cover svelte-8vab78")},m(e,t){o(e,n,t),o(e,r,t),m[l].m(e,t),o(e,i,t),c=!0},p:e,i(e){c||(M(s),c=!0)},o(e){U(s),c=!1},d(e){e&&a(n),e&&a(r),m[l].d(e),e&&a(i)}}}function Ze(e){return[new URLSearchParams(window.location.search).has("game")]}return new class extends Y{constructor(e){super(),j(this,e,Ze,Xe,s,{})}}({target:document.body})}();
