var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function r(e){e.forEach(t)}function l(e){return"function"==typeof e}function s(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function o(e,t){e.appendChild(t)}function i(e,t,n){e.insertBefore(t,n||null)}function a(e){e.parentNode.removeChild(e)}function c(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function d(e){return document.createElement(e)}function u(e){return document.createTextNode(e)}function p(){return u(" ")}function f(){return u("")}function m(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function h(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function $(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function g(e,t,n,r){e.style.setProperty(t,n,r?"important":"")}function y(e,t,n){e.classList[n?"add":"remove"](t)}let v;function w(e){v=e}function x(e){(function(){if(!v)throw new Error("Function called outside component initialization");return v})().$$.on_mount.push(e)}const b=[],S=[],z=[],k=[],C=Promise.resolve();let P=!1;function N(e){z.push(e)}const L=new Set;let T=0;function E(){const e=v;do{for(;T<b.length;){const e=b[T];T++,w(e),I(e.$$)}for(w(null),b.length=0,T=0;S.length;)S.pop()();for(let e=0;e<z.length;e+=1){const t=z[e];L.has(t)||(L.add(t),t())}z.length=0}while(b.length);for(;k.length;)k.pop()();P=!1,L.clear(),w(e)}function I(e){if(null!==e.fragment){e.update(),r(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(N)}}const R=new Set;let _;function H(){_={r:0,c:[],p:_}}function A(){_.r||r(_.c),_=_.p}function D(e,t){e&&e.i&&(R.delete(e),e.i(t))}function M(e,t,n,r){if(e&&e.o){if(R.has(e))return;R.add(e),_.c.push((()=>{R.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}}function U(e){e&&e.c()}function O(e,n,s,o){const{fragment:i,on_mount:a,on_destroy:c,after_update:d}=e.$$;i&&i.m(n,s),o||N((()=>{const n=a.map(t).filter(l);c?c.push(...n):r(n),e.$$.on_mount=[]})),d.forEach(N)}function B(e,t){const n=e.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function q(e,t){-1===e.$$.dirty[0]&&(b.push(e),P||(P=!0,C.then(E)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function j(t,l,s,o,i,c,d,u=[-1]){const p=v;w(t);const f=t.$$={fragment:null,ctx:null,props:c,update:e,not_equal:i,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(l.context||(p?p.$$.context:[])),callbacks:n(),dirty:u,skip_bound:!1,root:l.target||p.$$.root};d&&d(f.root);let m=!1;if(f.ctx=s?s(t,l.props||{},((e,n,...r)=>{const l=r.length?r[0]:n;return f.ctx&&i(f.ctx[e],f.ctx[e]=l)&&(!f.skip_bound&&f.bound[e]&&f.bound[e](l),m&&q(t,e)),n})):[],f.update(),m=!0,r(f.before_update),f.fragment=!!o&&o(f.ctx),l.target){if(l.hydrate){const e=function(e){return Array.from(e.childNodes)}(l.target);f.fragment&&f.fragment.l(e),e.forEach(a)}else f.fragment&&f.fragment.c();l.intro&&D(t.$$.fragment),O(t,l.target,l.anchor,l.customElement),E()}w(p)}class Y{$destroy(){B(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function F(t){let n,r;return{c(){n=d("div"),h(n,"class","coin svelte-1oo0wzo"),h(n,"id",r="coin-"+t[0]+"-"+t[1]),g(n,"background-color","var(--"+t[0]+"-player)")},m(e,t){i(e,n,t)},p(e,[t]){3&t&&r!==(r="coin-"+e[0]+"-"+e[1])&&h(n,"id",r),1&t&&g(n,"background-color","var(--"+e[0]+"-player)")},i:e,o:e,d(e){e&&a(n)}}}function J(e,t,n){let{code:r,i:l}=t;return e.$$set=e=>{"code"in e&&n(0,r=e.code),"i"in e&&n(1,l=e.i)},[r,l]}class G extends Y{constructor(e){super(),j(this,e,J,F,s,{code:0,i:1})}}function W(){}W.prototype={on:function(e,t,n){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var r=this;function l(){r.off(e,l),t.apply(n,arguments)}return l._=t,this.on(e,l,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),r=0,l=n.length;r<l;r++)n[r].fn.apply(n[r].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),r=n[e],l=[];if(r&&t)for(var s=0,o=r.length;s<o;s++)r[s].fn!==t&&r[s].fn._!==t&&l.push(r[s]);return l.length?n[e]=l:delete n[e],this}};var K=W;W.TinyEmitter=K;const Q=[19,20,21,22,23,24,6,5,4,3,2,1,7,13,14,15,16,17,18,42,41,40,39,38,37,43,49,50,51,52,53,54,72,71,70,69,68,67,61,55,56,57,58,59,60,36,35,34,33,32,31,25],V={red:20,blue:14,yellow:50,green:56},X={red:[26,27,28,29,30],blue:[8,9,10,11,12],yellow:[44,45,46,47,48],green:[62,63,64,65,66]},Z=[33,69,39,3,...Object.values(V)],ee=Object.fromEntries(["red","yellow","green","blue"].map((e=>{let t=Q.indexOf(V[e]),n=Q.slice(t,t+51);return 51!=n.length&&(n=n.concat(Q.slice(0,51-n.length))),[e,n.concat(X[e])]}))),te=['<div class="dot"></div>','<div class="dot"></div>'.repeat(2),'<div class="dot"></div>'.repeat(3),'<div class="flex"><div class="dot"></div> <div class="dot"></div></div>'.repeat(2),'\n        <div class="flex"><div class="dot"></div> <div class="e-dot"></div> <div class="dot"></div></div> \n        <div class="flex"><div class="e-dot"></div> <div class="dot"></div></div> \n        <div class="flex"><div class="dot"></div> <div class="e-dot"></div> <div class="dot"></div></div>\n    ','<div class="flex"><div class="dot"></div> <div class="dot"></div></div>'.repeat(3)];class ne{constructor(){let e=document.createElement("div");e.className="alert",e.style.opacity=0,this.element=e}setInnerHTML(e){return this.element.innerHTML=e,this}appendChildren(...e){return this.element.append(...e),this}setParent(e){return this.parent=e,this.parent.prepend(this.element),this}removeParent(){return this.parent.removeChild(this.element),this}async display(e=200){return await le(e),this.element.style.opacity=1,this}async undisplay(){return this.element.style.opacity=0,await le(200),this.removeParent()}}class re{static NULL_PLAYER=new re("No Player","null").null();kills=0;cors=[null,null,null,null];constructor(e,t,n){this.name=e,this.color=t,n&&(this.isBot=!0)}static fromJSON(e){let t=new re(e.name,e.color);return t.cors=e.cors,t.kills=e.kills,e.rank&&(t.rank=e.rank),e.bot&&(t.isBot=e.bot),t}get coinsReached(){return this.cors.filter((e=>isNaN(e))).length}get coinsAtStart(){return this.cors.filter((e=>"object"==typeof e)).length}get coinsOutside(){return this.cors.filter((e=>!isNaN(e)&&"number"==typeof e)).length}get completed(){return 4==this.coinsReached}get startPoint(){return V[this.color]}get activeCoinsIndices(){let e=[];for(let t=0;t<this.cors.length;t++){let n=this.cors[t];isNaN(n)||"number"!=typeof n||e.push(t)}return e}get coinsInsideIndices(){let e=[];for(let t=0;t<this.cors.length;t++)"object"==typeof this.cors[t]&&e.push(t);return e}get type(){return this.isBot?"bot":this.isNull?"null":"player"}null(){return this.isNull=!0,this}}async function le(e){return new Promise((t=>setTimeout(t,e)))}function se(e){return Math.floor(Math.random()*e)}function oe(e){return 1==e?"1st":2==e?"2nd":3==e?"3rd":`${e}th`}Array.prototype.random=function(){return this[Math.floor(Math.random()*this.length)]},String.prototype.toProperCase=function(){return this.charAt(0).toUpperCase()+this.substring(1).toLowerCase()},Element.prototype.setNodeIDCss=function(){for(let e=0;e<this.children.length;e++)this.children[e].style.setProperty("--node-id",e+1)};const ie=new class extends K{started=!1;ended=!1;activePlayers=[];currentTurn=0;ranks=[];players={red:new re("You","red"),green:re.NULL_PLAYER,yellow:re.NULL_PLAYER,blue:re.NULL_PLAYER};get playersArray(){return Object.values(this.players)}get playerCount(){return this.playersArray.filter((e=>!e.isNull)).length}get currentTurnPlayer(){return this.activePlayers[this.currentTurn]}get completed(){for(let e=0;e<this.activePlayers.length;e++)if(!this.activePlayers[e].completed)return!1;return!0}nextTurn(){let e=this.activePlayers.length-1;this.currentTurn+=this.currentTurn==e?-e:1}onWindowLoad(){let e=document.createElement("style");e.innerHTML=Z.map((e=>`#step-${e} {background-color:var(--dark-wood)!important}`)).join(""),e.innerHTML+=Object.entries(V).map((([e,t])=>`#step-${t} {background-color:var(--${e}-player)!important}`)).join(""),document.getElementById("wrap").append(e),this.started&&(this.emit("start"),this.alert("Resuming your game...",1200))}createPlayer(e){let t=Object.entries(this.players).find((([e,t])=>t.isNull));return t?(this.players[t[0]]=new re(e?"Bot":"Player",t[0],e),this.emit(`${t[0]}Update`).emit("playerCountUpdate"),this.players[t[0]]):null}deletePlayer(e){if(1==this.playerCount)return null;let t=this.players[e];return this.players[e]=re.NULL_PLAYER,this.emit(`${e}Update`).emit("playerCountUpdate"),t}updatePlayerName(e,t){this.players[e].name=t,this.emit(`${e}Update`)}async start(e=!1){return!this.started&&(this.activePlayers=[],Object.entries(this.players).forEach((e=>{e[1].isNull||this.activePlayers.push(e[1])})),!(this.activePlayers.length<2)&&(this.started=!0,this.emit("start"),this.clearSaved(),e&&await this.alert("The game has started...",1e3),this.startTurns()))}async startTurns(){let e=!1;for(;!this.completed;){let t=this.currentTurnPlayer,n=!t.isBot;if(this.save(),!e){if(t.completed)continue;this.emit("turn",t.color),n&&await this.waitForEvent("diceRoll")}let r=await this.diceRoll(t.name+"'s")+1,l=t.coinsInsideIndices,s=6==r;if(e=s,4==l.length)s?(t.cors[0]=0,await this.moveCoin(t.color,1,t.startPoint),this.emit(`${t.color}Update`)):await this.alert("Unfortunate!",1200);else{let o;if(s&&this.emit(`${t.color}PrisonSelectable`),n?(await this.alert("Select your move...",1100),o=await this.waitForEvent(`${t.color}Select`)):o=this.getRandomBotChoice(t,s),"prison"==o){let e=l.random();t.cors[e]=0,await this.moveCoin(t.color,e+1,t.startPoint),this.emit(`${t.color}Update`)}else if("number"==typeof o[0]){let[n,l]=await this.moveCoinInPath(t.color,o[0],t,r);e=e||n,isNaN(l)||(e=await this.killCoins(t,l)||e)}s&&this.emit(`${t.color}PrisonSelectable`)}6==r||e?await this.alert("Rolling again...",750):this.nextTurn()}return this.emit("end"),!0}async alert(e,t=2e3){let n=await(new ne).setParent(document.querySelector(".board-wrapper")).setInnerHTML(`<p>${e}</p>`).display(0);await le(t),await n.undisplay()}async diceRoll(e="Your",t=se(6)){let n=document.createElement("p");n.innerHTML=`${e} Turn`;let r=document.createElement("div");r.className="dice",r.innerHTML=this.getRandomDiceSideHTML();let l=await(new ne).appendChildren(n,r).setParent(document.querySelector(".board-wrapper")).display();for(let e=0;e<4;e++)await le(50*e),r.innerHTML=this.getRandomDiceSideHTML();return await le(200),r.innerHTML=this.getDiceSideHTML(t),await le(400),r.style.transform="scale(1.2)",await le(250),r.style.transform="scale(1)",await le(750),await l.undisplay(),t}async killCoins(e,t){if(!Z.includes(t))for(let n=0;n<this.activePlayers.length;n++){let r=this.activePlayers[n];if(r==e)continue;let l=ee[r.color],s=0;for(let e=0;e<r.cors.length;e++)l[r.cors[e]]==t&&(r.cors[e]=null,s+=1,await this.moveCoinToPrison(r.color,e+1));if(s)return e.kills+=s,this.emit(`${r.color}Update`).emit(`${e.color}Update`),!0}}async moveCoin(e,t,n){let r=document.getElementById(`coin-${e}-${t}`),l=document.getElementById(`step-${n}`),s=r.cloneNode();r.classList.add("coin-exit"),await le(500),r.parentElement.removeChild(r),s.addEventListener("click",(()=>this.emit(`${e}Select`,t))),s.classList.add("coin-active"),l.appendChild(s),l.setNodeIDCss(),await le(400)}async moveCoinInPath(e,t,n,r){let l=`coin-${e}-${t}`,s=n.cors[t-1]+r,o=ee[e][s];if(!o){let r=document.getElementById(l);return r.parentElement.removeChild(r),n.cors[t-1]=NaN,await this.alert(`${n.name}'s coin has reached the house!`,1100),n.completed&&(await this.alert(`${n.name} has won the ${oe(this.ranks.length)} place!`,1100),this.ranks.push(n),n.rank=this.ranks.length,this.emit("canDisplayResults")),this.emit(`${e}Update`),[!0,NaN]}return n.cors[t-1]=s,await this.moveCoin(e,t,o),[!1,o]}async moveCoinToPrison(e,t){let n=document.getElementById(`coin-${e}-${t}`),r=n.parentElement,l=n.cloneNode();n.classList.add("coin-exit"),await le(500),n.parentElement.removeChild(n),l.classList.add("coin-active"),document.querySelector(`#prison-${e} .prison-inner div`).appendChild(l),r.setNodeIDCss(),await le(400)}waitForEvent(e){return new Promise((t=>{const n=(...r)=>{this.off(e,n),t(r)};this.on(e,n)}))}getRandomBotChoice(e,t){return window.kek=e,t&&se(2)?"house":[e.activeCoinsIndices.random()+1]}getRandomDiceSideHTML(){return this.getDiceSideHTML(se(6))}getDiceSideHTML(e){return`<div class="dside-${e+1}">${te[e]}</div>`}toJSON(){return{started:this.started,ended:this.ended,currentTurn:this.currentTurn,ranks:this.ranks.map((e=>e.color)),players:this.activePlayers.map((e=>({kills:e.kills,cors:e.cors,name:e.name,color:e.color,bot:e.isBot})))}}save(){localStorage.setItem("ludo_data",JSON.stringify(this.toJSON()))}clearSaved(){localStorage.removeItem("ludo_data")}async startFromSaved(){let e=JSON.parse(localStorage.getItem("ludo_data")||"{}"),t=[];if(e.started){this.started=!0,this.currentTurn=e.currentTurn,this.activePlayers=e.players.map(re.fromJSON),this.players.red=re.NULL_PLAYER;for(let e=0;e<this.activePlayers.length;e++){let n=this.activePlayers[e],r=ee[n.color];this.players[n.color]=n,this.emit(`${n.color}Update`);for(let e=0;e<n.cors.length;e++){let l=n.cors[e];isNaN(l)||"number"!=typeof l||t.push(this.moveCoin(n.color,e+1,r[l]))}}for(let t=0;t<e.ranks.length;t++)this.ranks.push(this.players[e.ranks[t]])}this.emit("start"),await Promise.all(t),e.started?(await this.alert("The game has resumed...",1e3),await this.startTurns()):e.ended&&this.emit("displayResult")}},ae=Boolean(localStorage.getItem("ludo_data"));function ce(e){let t,n,r,l,s,c,u,f,$,y,v,w,x,b,S;return l=new G({props:{code:e[1],i:1}}),c=new G({props:{code:e[1],i:2}}),f=new G({props:{code:e[1],i:3}}),y=new G({props:{code:e[1],i:4}}),{c(){t=d("div"),n=d("div"),r=d("div"),U(l.$$.fragment),s=p(),U(c.$$.fragment),u=p(),U(f.$$.fragment),$=p(),U(y.$$.fragment),h(r,"class","flex flex-wrap"),h(n,"class","prison-inner svelte-o2wsg6"),g(n,"margin",(e[2]-e[3]-10)/2+"px"),g(n,"width",e[3]+"px"),g(n,"height",e[3]+"px"),h(t,"class",v="prison "+(e[0]?"prison-selectable":"")+" svelte-o2wsg6"),g(t,"width",e[2]+"px"),g(t,"height",e[2]+"px"),h(t,"id",w="prison-"+e[1])},m(a,d){i(a,t,d),o(t,n),o(n,r),O(l,r,null),o(r,s),O(c,r,null),o(r,u),O(f,r,null),o(r,$),O(y,r,null),x=!0,b||(S=m(t,"click",e[5]),b=!0)},p(e,[r]){const s={};2&r&&(s.code=e[1]),l.$set(s);const o={};2&r&&(o.code=e[1]),c.$set(o);const i={};2&r&&(i.code=e[1]),f.$set(i);const a={};2&r&&(a.code=e[1]),y.$set(a),(!x||12&r)&&g(n,"margin",(e[2]-e[3]-10)/2+"px"),(!x||8&r)&&g(n,"width",e[3]+"px"),(!x||8&r)&&g(n,"height",e[3]+"px"),(!x||1&r&&v!==(v="prison "+(e[0]?"prison-selectable":"")+" svelte-o2wsg6"))&&h(t,"class",v),(!x||4&r)&&g(t,"width",e[2]+"px"),(!x||4&r)&&g(t,"height",e[2]+"px"),(!x||2&r&&w!==(w="prison-"+e[1]))&&h(t,"id",w)},i(e){x||(D(l.$$.fragment,e),D(c.$$.fragment,e),D(f.$$.fragment,e),D(y.$$.fragment,e),x=!0)},o(e){M(l.$$.fragment,e),M(c.$$.fragment,e),M(f.$$.fragment,e),M(y.$$.fragment,e),x=!1},d(e){e&&a(t),B(l),B(c),B(f),B(y),b=!1,S()}}}function de(e,t,n){let r,{code:l,cellSize:s,prisonSize:o,prisonSelectable:i}=t;ie.on(`${l}PrisonSelectable`,(()=>n(0,i=!i)));return e.$$set=e=>{"code"in e&&n(1,l=e.code),"cellSize"in e&&n(4,s=e.cellSize),"prisonSize"in e&&n(2,o=e.prisonSize),"prisonSelectable"in e&&n(0,i=e.prisonSelectable)},e.$$.update=()=>{16&e.$$.dirty&&n(3,r=2*s+12)},[i,l,o,r,s,()=>{i&&ie.emit(`${l}Select`,"prison")}]}class ue extends Y{constructor(e){super(),j(this,e,de,ce,s,{code:1,cellSize:4,prisonSize:2,prisonSelectable:0})}}function pe(t){let n,r,l;return{c(){n=d("div"),h(n,"class","step svelte-1c1f2ll"),h(n,"id",r="step-"+t[0]),h(n,"style",l=t[1]?`background-color: var(--${t[1]}-player);`:"")},m(e,t){i(e,n,t)},p(e,[t]){1&t&&r!==(r="step-"+e[0])&&h(n,"id",r),2&t&&l!==(l=e[1]?`background-color: var(--${e[1]}-player);`:"")&&h(n,"style",l)},i:e,o:e,d(e){e&&a(n)}}}function fe(e,t,n){let{i:r}=t,{color:l=null}=t;return e.$$set=e=>{"i"in e&&n(0,r=e.i),"color"in e&&n(1,l=e.color)},[r,l]}class me extends Y{constructor(e){super(),j(this,e,fe,pe,s,{i:0,color:1})}}function he(e,t,n){const r=e.slice();return r[4]=t[n],r[6]=n,r}function $e(e,t,n){const r=e.slice();return r[4]=t[n],r[6]=n,r}function ge(e){let t,n,r,l;t=new me({props:{i:e[1],cellSize:e[0]}});let s=Array(5),o=[];for(let t=0;t<s.length;t+=1)o[t]=ve(he(e,s,t));const d=e=>M(o[e],1,1,(()=>{o[e]=null}));return{c(){U(t.$$.fragment),n=p();for(let e=0;e<o.length;e+=1)o[e].c();r=f()},m(e,s){O(t,e,s),i(e,n,s);for(let t=0;t<o.length;t+=1)o[t].m(e,s);i(e,r,s),l=!0},p(e,n){const l={};if(2&n&&(l.i=e[1]),1&n&&(l.cellSize=e[0]),t.$set(l),10&n){let t;for(s=Array(5),t=0;t<s.length;t+=1){const l=he(e,s,t);o[t]?(o[t].p(l,n),D(o[t],1)):(o[t]=ve(l),o[t].c(),D(o[t],1),o[t].m(r.parentNode,r))}for(H(),t=s.length;t<o.length;t+=1)d(t);A()}},i(e){if(!l){D(t.$$.fragment,e);for(let e=0;e<s.length;e+=1)D(o[e]);l=!0}},o(e){M(t.$$.fragment,e),o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)M(o[e]);l=!1},d(e){B(t,e),e&&a(n),c(o,e),e&&a(r)}}}function ye(e){let t,n,r=Array(6),l=[];for(let t=0;t<r.length;t+=1)l[t]=we($e(e,r,t));const s=e=>M(l[e],1,1,(()=>{l[e]=null}));return{c(){for(let e=0;e<l.length;e+=1)l[e].c();t=f()},m(e,r){for(let t=0;t<l.length;t+=1)l[t].m(e,r);i(e,t,r),n=!0},p(e,n){if(3&n){let o;for(r=Array(6),o=0;o<r.length;o+=1){const s=$e(e,r,o);l[o]?(l[o].p(s,n),D(l[o],1)):(l[o]=we(s),l[o].c(),D(l[o],1),l[o].m(t.parentNode,t))}for(H(),o=r.length;o<l.length;o+=1)s(o);A()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)D(l[e]);n=!0}},o(e){l=l.filter(Boolean);for(let e=0;e<l.length;e+=1)M(l[e]);n=!1},d(e){c(l,e),e&&a(t)}}}function ve(e){let t,n;return t=new me({props:{i:e[1]+e[6]+1,color:e[3]}}),{c(){U(t.$$.fragment)},m(e,r){O(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.i=e[1]+e[6]+1),8&n&&(r.color=e[3]),t.$set(r)},i(e){n||(D(t.$$.fragment,e),n=!0)},o(e){M(t.$$.fragment,e),n=!1},d(e){B(t,e)}}}function we(e){let t,n;return t=new me({props:{i:e[1]+e[6],cellSize:e[0]}}),{c(){U(t.$$.fragment)},m(e,r){O(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.i=e[1]+e[6]),1&n&&(r.cellSize=e[0]),t.$set(r)},i(e){n||(D(t.$$.fragment,e),n=!0)},o(e){M(t.$$.fragment,e),n=!1},d(e){B(t,e)}}}function xe(e){let t,n,r,l,s;const o=[ye,ge],c=[];function u(e,t){return e[3]?1:0}return n=u(e),r=c[n]=o[n](e),{c(){t=d("div"),r.c(),h(t,"class",l="flex flex-nowrap flex-"+e[2])},m(e,r){i(e,t,r),c[n].m(t,null),s=!0},p(e,[i]){let a=n;n=u(e),n===a?c[n].p(e,i):(H(),M(c[a],1,1,(()=>{c[a]=null})),A(),r=c[n],r?r.p(e,i):(r=c[n]=o[n](e),r.c()),D(r,1),r.m(t,null)),(!s||4&i&&l!==(l="flex flex-nowrap flex-"+e[2]))&&h(t,"class",l)},i(e){s||(D(r),s=!0)},o(e){M(r),s=!1},d(e){e&&a(t),c[n].d()}}}function be(e,t,n){let{cellSize:r,offsetIndex:l}=t,{flexDirection:s="row"}=t,{color:o=null}=t;return e.$$set=e=>{"cellSize"in e&&n(0,r=e.cellSize),"offsetIndex"in e&&n(1,l=e.offsetIndex),"flexDirection"in e&&n(2,s=e.flexDirection),"color"in e&&n(3,o=e.color)},[r,l,s,o]}class Se extends Y{constructor(e){super(),j(this,e,be,xe,s,{cellSize:0,offsetIndex:1,flexDirection:2,color:3})}}function ze(t){let n;return{c(){n=d("div"),h(n,"class","triangle svelte-1n4h48y"),g(n,"background-color","var(--"+t[0]+"-player)"),g(n,"height",t[1]/2+"px"),g(n,"width",t[1]+"px"),g(n,"margin-top",t[3]+"px"),g(n,"margin-right",t[4]+"px"),g(n,"margin-left",t[5]+"px"),g(n,"margin-bottom",t[6]+"px"),g(n,"--rotate",90*t[2]+"deg")},m(e,t){i(e,n,t)},p(e,[t]){1&t&&g(n,"background-color","var(--"+e[0]+"-player)"),2&t&&g(n,"height",e[1]/2+"px"),2&t&&g(n,"width",e[1]+"px"),8&t&&g(n,"margin-top",e[3]+"px"),16&t&&g(n,"margin-right",e[4]+"px"),32&t&&g(n,"margin-left",e[5]+"px"),64&t&&g(n,"margin-bottom",e[6]+"px"),4&t&&g(n,"--rotate",90*e[2]+"deg")},i:e,o:e,d(e){e&&a(n)}}}function ke(e,t,n){let{color:r,gameHomeSize:l,i:s}=t,{top:o=0,right:i=0,left:a=0,bottom:c=0}=t;return e.$$set=e=>{"color"in e&&n(0,r=e.color),"gameHomeSize"in e&&n(1,l=e.gameHomeSize),"i"in e&&n(2,s=e.i),"top"in e&&n(3,o=e.top),"right"in e&&n(4,i=e.right),"left"in e&&n(5,a=e.left),"bottom"in e&&n(6,c=e.bottom)},[r,l,s,o,i,a,c]}class Ce extends Y{constructor(e){super(),j(this,e,ke,ze,s,{color:0,gameHomeSize:1,i:2,top:3,right:4,left:5,bottom:6})}}function Pe(e){let t,n,r,l,s,c,u,f,m,$,y,v,w,x,b,S,z,k,C,P,N,L,T,E,I,R,_,H,A,q,j,Y,F,J,G,W,K,Q,V,X,Z,ee,te,ne,re,le,se,oe,ie,ae;return s=new ue({props:{code:"red",cellSize:e[1],prisonSize:e[2]}}),u=new Se({props:{cellSize:e[1],offsetIndex:1,flexDirection:"column"}}),m=new Se({props:{cellSize:e[1],offsetIndex:7,flexDirection:"column",color:"blue"}}),y=new Se({props:{cellSize:e[1],offsetIndex:13,flexDirection:"column"}}),w=new ue({props:{code:"blue",cellSize:e[1],prisonSize:e[2]}}),z=new Se({props:{cellSize:e[1],offsetIndex:19}}),C=new Se({props:{cellSize:e[1],offsetIndex:25,color:"red"}}),N=new Se({props:{cellSize:e[1],offsetIndex:31}}),I=new Ce({props:{color:"green",i:0,top:e[3]/2,gameHomeSize:e[3]}}),_=new Ce({props:{color:"red",i:1,top:e[3]/4,left:-e[3]/4,gameHomeSize:e[3]}}),A=new Ce({props:{color:"blue",i:2,gameHomeSize:e[3]}}),j=new Ce({props:{color:"yellow",i:3,top:e[3]/4,left:e[3]/4,gameHomeSize:e[3]}}),J=new Se({props:{cellSize:e[1],offsetIndex:37,flexDirection:"row-r"}}),W=new Se({props:{cellSize:e[1],offsetIndex:43,flexDirection:"row-r",color:"yellow"}}),Q=new Se({props:{cellSize:e[1],offsetIndex:49,flexDirection:"row-r"}}),Z=new ue({props:{code:"green",cellSize:e[1],prisonSize:e[2]}}),te=new Se({props:{cellSize:e[1],offsetIndex:55,flexDirection:"column-r"}}),re=new Se({props:{cellSize:e[1],offsetIndex:61,flexDirection:"column-r",color:"green"}}),se=new Se({props:{cellSize:e[1],offsetIndex:67,flexDirection:"column-r"}}),ie=new ue({props:{code:"yellow",cellSize:e[1],prisonSize:e[2]}}),{c(){t=d("div"),n=d("div"),r=d("div"),l=d("div"),U(s.$$.fragment),c=p(),U(u.$$.fragment),f=p(),U(m.$$.fragment),$=p(),U(y.$$.fragment),v=p(),U(w.$$.fragment),x=p(),b=d("div"),S=d("div"),U(z.$$.fragment),k=p(),U(C.$$.fragment),P=p(),U(N.$$.fragment),L=p(),T=d("div"),E=d("div"),U(I.$$.fragment),R=p(),U(_.$$.fragment),H=p(),U(A.$$.fragment),q=p(),U(j.$$.fragment),Y=p(),F=d("div"),U(J.$$.fragment),G=p(),U(W.$$.fragment),K=p(),U(Q.$$.fragment),V=p(),X=d("div"),U(Z.$$.fragment),ee=p(),U(te.$$.fragment),ne=p(),U(re.$$.fragment),le=p(),U(se.$$.fragment),oe=p(),U(ie.$$.fragment),h(l,"class","flex flex-nowrap"),g(E,"z-index","6"),g(T,"width",e[3]+"px"),h(T,"class","game-home svelte-12pcthr"),h(b,"class","flex flex-nowrap"),h(X,"class","flex flex-nowrap"),h(r,"class","board-inner w-full"),h(n,"class","board w-full h-full svelte-12pcthr"),h(t,"class","board-wrapper svelte-12pcthr"),g(t,"--board-width",e[0]+"px"),g(t,"--board-height",e[0]+"px"),g(t,"--cell-size",e[1]+"px")},m(e,a){i(e,t,a),o(t,n),o(n,r),o(r,l),O(s,l,null),o(l,c),O(u,l,null),o(l,f),O(m,l,null),o(l,$),O(y,l,null),o(l,v),O(w,l,null),o(r,x),o(r,b),o(b,S),O(z,S,null),o(S,k),O(C,S,null),o(S,P),O(N,S,null),o(b,L),o(b,T),o(T,E),O(I,E,null),o(E,R),O(_,E,null),o(E,H),O(A,E,null),o(E,q),O(j,E,null),o(b,Y),o(b,F),O(J,F,null),o(F,G),O(W,F,null),o(F,K),O(Q,F,null),o(r,V),o(r,X),O(Z,X,null),o(X,ee),O(te,X,null),o(X,ne),O(re,X,null),o(X,le),O(se,X,null),o(X,oe),O(ie,X,null),ae=!0},p(e,[n]){const r={};2&n&&(r.cellSize=e[1]),4&n&&(r.prisonSize=e[2]),s.$set(r);const l={};2&n&&(l.cellSize=e[1]),u.$set(l);const o={};2&n&&(o.cellSize=e[1]),m.$set(o);const i={};2&n&&(i.cellSize=e[1]),y.$set(i);const a={};2&n&&(a.cellSize=e[1]),4&n&&(a.prisonSize=e[2]),w.$set(a);const c={};2&n&&(c.cellSize=e[1]),z.$set(c);const d={};2&n&&(d.cellSize=e[1]),C.$set(d);const p={};2&n&&(p.cellSize=e[1]),N.$set(p);const f={};8&n&&(f.top=e[3]/2),8&n&&(f.gameHomeSize=e[3]),I.$set(f);const h={};8&n&&(h.top=e[3]/4),8&n&&(h.left=-e[3]/4),8&n&&(h.gameHomeSize=e[3]),_.$set(h);const $={};8&n&&($.gameHomeSize=e[3]),A.$set($);const v={};8&n&&(v.top=e[3]/4),8&n&&(v.left=e[3]/4),8&n&&(v.gameHomeSize=e[3]),j.$set(v),(!ae||8&n)&&g(T,"width",e[3]+"px");const x={};2&n&&(x.cellSize=e[1]),J.$set(x);const b={};2&n&&(b.cellSize=e[1]),W.$set(b);const S={};2&n&&(S.cellSize=e[1]),Q.$set(S);const k={};2&n&&(k.cellSize=e[1]),4&n&&(k.prisonSize=e[2]),Z.$set(k);const P={};2&n&&(P.cellSize=e[1]),te.$set(P);const L={};2&n&&(L.cellSize=e[1]),re.$set(L);const E={};2&n&&(E.cellSize=e[1]),se.$set(E);const R={};2&n&&(R.cellSize=e[1]),4&n&&(R.prisonSize=e[2]),ie.$set(R),(!ae||1&n)&&g(t,"--board-width",e[0]+"px"),(!ae||1&n)&&g(t,"--board-height",e[0]+"px"),(!ae||2&n)&&g(t,"--cell-size",e[1]+"px")},i(e){ae||(D(s.$$.fragment,e),D(u.$$.fragment,e),D(m.$$.fragment,e),D(y.$$.fragment,e),D(w.$$.fragment,e),D(z.$$.fragment,e),D(C.$$.fragment,e),D(N.$$.fragment,e),D(I.$$.fragment,e),D(_.$$.fragment,e),D(A.$$.fragment,e),D(j.$$.fragment,e),D(J.$$.fragment,e),D(W.$$.fragment,e),D(Q.$$.fragment,e),D(Z.$$.fragment,e),D(te.$$.fragment,e),D(re.$$.fragment,e),D(se.$$.fragment,e),D(ie.$$.fragment,e),ae=!0)},o(e){M(s.$$.fragment,e),M(u.$$.fragment,e),M(m.$$.fragment,e),M(y.$$.fragment,e),M(w.$$.fragment,e),M(z.$$.fragment,e),M(C.$$.fragment,e),M(N.$$.fragment,e),M(I.$$.fragment,e),M(_.$$.fragment,e),M(A.$$.fragment,e),M(j.$$.fragment,e),M(J.$$.fragment,e),M(W.$$.fragment,e),M(Q.$$.fragment,e),M(Z.$$.fragment,e),M(te.$$.fragment,e),M(re.$$.fragment,e),M(se.$$.fragment,e),M(ie.$$.fragment,e),ae=!1},d(e){e&&a(t),B(s),B(u),B(m),B(y),B(w),B(z),B(C),B(N),B(I),B(_),B(A),B(j),B(J),B(W),B(Q),B(Z),B(te),B(re),B(se),B(ie)}}}function Ne(e,t,n){let r,l,s,o;function i(){let e=document.getElementById("wrap");n(0,r=Math.min(e.clientHeight,e.clientWidth))}return x((()=>{i(),ie.onWindowLoad(),window.addEventListener("resize",i)})),e.$$.update=()=>{3&e.$$.dirty&&(n(1,l=(r-70)/15),n(2,s=6*l+24),n(3,o=3*l+8))},[r,l,s,o]}class Le extends Y{constructor(e){super(),j(this,e,Ne,Pe,s,{})}}function Te(e){let t,n,r,l,s,c,f,y,v,w,x,b,S,z,k,C,P,N,L,T,E,I,R,_,H,A,D,M,U,O,B,q,j,Y,F=e[3].coinsOutside+"",J=e[3].coinsAtStart+"",G=e[3].coinsReached+"",W=e[3].kills+"",K=!e[1]&&e[2]&&Ee(e);function Q(e,t){return e[4]?Re:e[3].rank?Ie:void 0}let V=Q(e),X=V&&V(e);return{c(){t=d("div"),n=d("div"),r=d("input"),c=p(),f=d("div"),y=d("p"),y.textContent="Coins Outside:",v=p(),w=d("p"),x=u(F),b=d("br"),S=p(),z=d("p"),z.textContent="Coins At Start:",k=p(),C=d("p"),P=u(J),N=d("br"),L=p(),T=d("p"),T.textContent="Coins Reached:",E=p(),I=d("p"),R=u(G),_=d("br"),H=p(),A=d("p"),A.textContent="Kills:",D=p(),M=d("p"),U=u(W),O=d("br"),B=p(),K&&K.c(),q=p(),X&&X.c(),h(r,"class","player-input svelte-14sxb61"),h(r,"type","text"),r.value=l=e[3].name.slice(0,10),r.readOnly=s=!e[2],h(n,"class","head"),g(n,"background-color","var(--"+e[0]+"-player)"),h(y,"class","inline-block strong svelte-14sxb61"),h(w,"class","inline-block svelte-14sxb61"),h(z,"class","inline-block strong svelte-14sxb61"),h(C,"class","inline-block svelte-14sxb61"),h(T,"class","inline-block strong svelte-14sxb61"),h(I,"class","inline-block svelte-14sxb61"),h(A,"class","inline-block strong svelte-14sxb61"),h(M,"class","inline-block svelte-14sxb61"),h(f,"class","foot"),h(t,"class","player-tab svelte-14sxb61")},m(l,s){i(l,t,s),o(t,n),o(n,r),o(t,c),o(t,f),o(f,y),o(f,v),o(f,w),o(w,x),o(f,b),o(f,S),o(f,z),o(f,k),o(f,C),o(C,P),o(f,N),o(f,L),o(f,T),o(f,E),o(f,I),o(I,R),o(f,_),o(f,H),o(f,A),o(f,D),o(f,M),o(M,U),o(f,O),o(f,B),K&&K.m(f,null),o(f,q),X&&X.m(f,null),j||(Y=m(r,"blur",e[6]),j=!0)},p(e,t){8&t&&l!==(l=e[3].name.slice(0,10))&&r.value!==l&&(r.value=l),4&t&&s!==(s=!e[2])&&(r.readOnly=s),1&t&&g(n,"background-color","var(--"+e[0]+"-player)"),8&t&&F!==(F=e[3].coinsOutside+"")&&$(x,F),8&t&&J!==(J=e[3].coinsAtStart+"")&&$(P,J),8&t&&G!==(G=e[3].coinsReached+"")&&$(R,G),8&t&&W!==(W=e[3].kills+"")&&$(U,W),!e[1]&&e[2]?K?K.p(e,t):(K=Ee(e),K.c(),K.m(f,q)):K&&(K.d(1),K=null),V===(V=Q(e))&&X?X.p(e,t):(X&&X.d(1),X=V&&V(e),X&&(X.c(),X.m(f,null)))},d(e){e&&a(t),K&&K.d(),X&&X.d(),j=!1,Y()}}}function Ee(e){let t,n,r,l,s,c,p=e[3].type.toProperCase()+"";return{c(){t=d("a"),n=u("Remove "),r=u(p),l=u("?"),h(t,"href","#wrap")},m(a,d){i(a,t,d),o(t,n),o(t,r),o(t,l),s||(c=m(t,"click",e[5]),s=!0)},p(e,t){8&t&&p!==(p=e[3].type.toProperCase()+"")&&$(r,p)},d(e){e&&a(t),s=!1,c()}}}function Ie(e){let t,n,r,l=oe(e[3].rank)+"";return{c(){t=d("p"),n=u(l),r=u(" Place"),h(t,"class","turn-label svelte-14sxb61")},m(e,l){i(e,t,l),o(t,n),o(t,r)},p(e,t){8&t&&l!==(l=oe(e[3].rank)+"")&&$(n,l)},d(e){e&&a(t)}}}function Re(t){let n;return{c(){n=d("p"),n.textContent="CURRENT TURN",h(n,"class","turn-label svelte-14sxb61")},m(e,t){i(e,n,t)},p:e,d(e){e&&a(n)}}}function _e(t){let n,r=!t[3].isNull&&Te(t);return{c(){r&&r.c(),n=f()},m(e,t){r&&r.m(e,t),i(e,n,t)},p(e,[t]){e[3].isNull?r&&(r.d(1),r=null):r?r.p(e,t):(r=Te(e),r.c(),r.m(n.parentNode,n))},i:e,o:e,d(e){r&&r.d(e),e&&a(n)}}}function He(e,t,n){let{color:r,started:l}=t,{editable:s=!0}=t,o=ie.players[r],i=!1;s&&(ie.on(`${r}Update`,(()=>n(3,o=ie.players[r]))),ie.on("turn",(e=>n(4,i=e==r))));return e.$$set=e=>{"color"in e&&n(0,r=e.color),"started"in e&&n(1,l=e.started),"editable"in e&&n(2,s=e.editable)},[r,l,s,o,i,function(){ie.deletePlayer(r)||ie.alert("You cannot remove yourself from the game!")},e=>{s&&(ie.updatePlayerName(r,e.target.value),ie.alert("Name updated",1e3))}]}class Ae extends Y{constructor(e){super(),j(this,e,He,_e,s,{color:0,started:1,editable:2})}}function De(t){let n,l,s,c,u,f,$,y,v;return{c(){n=d("div"),l=d("div"),l.innerHTML='<h3 class="svelte-4moyru">Add</h3>',s=p(),c=d("div"),u=d("a"),u.textContent="Add Player?",f=p(),$=d("a"),$.textContent="Add Bot?",h(l,"class","head"),g(l,"background-color","var(--dull-player)"),h(u,"href","#wrap"),h($,"href","#wrap"),h(c,"class","foot"),h(n,"class","player-tab svelte-4moyru")},m(e,r){i(e,n,r),o(n,l),o(n,s),o(n,c),o(c,u),o(c,f),o(c,$),y||(v=[m(u,"click",t[2]),m($,"click",t[3])],y=!0)},p:e,d(e){e&&a(n),y=!1,r(v)}}}function Me(t){let n,r=!t[0]&&t[1]&&De(t);return{c(){r&&r.c(),n=f()},m(e,t){r&&r.m(e,t),i(e,n,t)},p(e,[t]){!e[0]&&e[1]?r?r.p(e,t):(r=De(e),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},i:e,o:e,d(e){r&&r.d(e),e&&a(n)}}}function Ue(e,t,n){let{started:r}=t,l=4!=ie.playerCount;ie.on("playerCountUpdate",(()=>n(1,l=4!=ie.playerCount)));return e.$$set=e=>{"started"in e&&n(0,r=e.started)},[r,l,()=>{ie.createPlayer()||ie.alert("Player limit has been reached...")},()=>{ie.createPlayer(!0)||ie.alert("Player limit has been reached...")}]}class Oe extends Y{constructor(e){super(),j(this,e,Ue,Me,s,{started:0})}}function Be(e,t,n){const r=e.slice();return r[3]=t[n],r[5]=n,r}function qe(t){let n,r,l,s,u,f,$,g,y,v,w,x,b,S,z=ie.ranks.length&&function(t){let n;return{c(){n=d("p"),n.textContent=`${ie.ranks[0].name} has won the game!`,h(n,"class","svelte-czy7cr")},m(e,t){i(e,n,t)},p:e,d(e){e&&a(n)}}}(),k=ie.ranks,C=[];for(let e=0;e<k.length;e+=1)C[e]=je(Be(t,k,e));const P=e=>M(C[e],1,1,(()=>{C[e]=null}));return{c(){n=d("div"),r=p(),l=d("div"),s=d("h3"),s.textContent="Result",u=p(),z&&z.c(),f=p(),$=d("h5"),$.textContent="Rankings",g=p(),y=d("div");for(let e=0;e<C.length;e+=1)C[e].c();v=p(),w=d("a"),w.textContent="Close Tab",h(n,"class","result-wrap svelte-czy7cr"),h(s,"class","svelte-czy7cr"),h($,"class","svelte-czy7cr"),h(y,"class","result-players-tab svelte-czy7cr"),h(w,"href","#wrap"),h(w,"class","svelte-czy7cr"),h(l,"class","result-tab svelte-czy7cr")},m(e,a){i(e,n,a),i(e,r,a),i(e,l,a),o(l,s),o(l,u),z&&z.m(l,null),o(l,f),o(l,$),o(l,g),o(l,y);for(let e=0;e<C.length;e+=1)C[e].m(y,null);o(l,v),o(l,w),x=!0,b||(S=m(w,"click",t[2]),b=!0)},p(e,t){if(ie.ranks.length&&z.p(e,t),1&t){let n;for(k=ie.ranks,n=0;n<k.length;n+=1){const r=Be(e,k,n);C[n]?(C[n].p(r,t),D(C[n],1)):(C[n]=je(r),C[n].c(),D(C[n],1),C[n].m(y,null))}for(H(),n=k.length;n<C.length;n+=1)P(n);A()}},i(e){if(!x){for(let e=0;e<k.length;e+=1)D(C[e]);x=!0}},o(e){C=C.filter(Boolean);for(let e=0;e<C.length;e+=1)M(C[e]);x=!1},d(e){e&&a(n),e&&a(r),e&&a(l),z&&z.d(),c(C,e),b=!1,S()}}}function je(e){let t,n;return t=new Ae({props:{color:e[3].color,editable:!1,started:e[0]}}),{c(){U(t.$$.fragment)},m(e,r){O(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.started=e[0]),t.$set(r)},i(e){n||(D(t.$$.fragment,e),n=!0)},o(e){M(t.$$.fragment,e),n=!1},d(e){B(t,e)}}}function Ye(e){let t,n,r=e[1]&&qe(e);return{c(){r&&r.c(),t=f()},m(e,l){r&&r.m(e,l),i(e,t,l),n=!0},p(e,[n]){e[1]?r?(r.p(e,n),2&n&&D(r,1)):(r=qe(e),r.c(),D(r,1),r.m(t.parentNode,t)):r&&(H(),M(r,1,1,(()=>{r=null})),A())},i(e){n||(D(r),n=!0)},o(e){M(r),n=!1},d(e){r&&r.d(e),e&&a(t)}}}function Fe(e,t,n){let{started:r}=t,l=!1;ie.on("displayResult",(()=>n(1,l=!0)));return e.$$set=e=>{"started"in e&&n(0,r=e.started)},[r,l,()=>n(1,l=!1)]}class Je extends Y{constructor(e){super(),j(this,e,Fe,Ye,s,{started:0})}}function Ge(t){let n,l,s,o,c,u,f;return{c(){n=d("a"),n.textContent="Roll Dice",l=p(),s=d("a"),s.textContent="Save Game",o=p(),c=d("a"),c.textContent="New Game",h(n,"class","player-tab-btn svelte-18qy2fy"),h(n,"href","#wrap"),h(s,"class","player-tab-btn svelte-18qy2fy"),h(s,"href","#wrap"),h(c,"class","player-tab-btn svelte-18qy2fy"),h(c,"href","#wrap")},m(e,r){i(e,n,r),i(e,l,r),i(e,s,r),i(e,o,r),i(e,c,r),u||(f=[m(n,"click",t[6]),m(s,"click",t[7]),m(c,"click",t[8])],u=!0)},p:e,d(e){e&&a(n),e&&a(l),e&&a(s),e&&a(o),e&&a(c),u=!1,r(f)}}}function We(t){let n,r,l,s,o,c,u=ae&&function(t){let n,r,l;return{c(){n=d("a"),n.textContent="Resume Game",h(n,"class","player-tab-btn svelte-18qy2fy"),h(n,"href","#wrap")},m(e,s){i(e,n,s),r||(l=m(n,"click",t[4]),r=!0)},p:e,d(e){e&&a(n),r=!1,l()}}}(t),$=t[1]&&Ke(t);return{c(){n=d("a"),n.textContent="New Game",r=p(),u&&u.c(),l=p(),$&&$.c(),s=f(),h(n,"class","player-tab-btn svelte-18qy2fy"),h(n,"href","#wrap")},m(e,a){i(e,n,a),i(e,r,a),u&&u.m(e,a),i(e,l,a),$&&$.m(e,a),i(e,s,a),o||(c=m(n,"click",t[3]),o=!0)},p(e,t){ae&&u.p(e,t),e[1]?$?$.p(e,t):($=Ke(e),$.c(),$.m(s.parentNode,s)):$&&($.d(1),$=null)},d(e){e&&a(n),e&&a(r),u&&u.d(e),e&&a(l),$&&$.d(e),e&&a(s),o=!1,c()}}}function Ke(t){let n,r,l;return{c(){n=d("a"),n.textContent="Results",h(n,"class","player-tab-btn svelte-18qy2fy"),h(n,"href","#wrap")},m(e,s){i(e,n,s),r||(l=m(n,"click",t[5]),r=!0)},p:e,d(e){e&&a(n),r=!1,l()}}}function Qe(e){let t,n,r,l,s,c,u,f,m,$,g,v,w,x,b,S,z,k,C,P,N;function L(e,t){return e[2]?Ge:We}r=new Je({props:{started:e[2]}}),c=new Le({}),$=new Ae({props:{color:"red",started:e[2]}}),v=new Ae({props:{color:"yellow",started:e[2]}}),x=new Ae({props:{color:"blue",started:e[2]}}),S=new Ae({props:{color:"green",started:e[2]}}),k=new Oe({props:{started:e[2]}});let T=L(e),E=T(e);return{c(){t=d("div"),n=p(),U(r.$$.fragment),l=p(),s=d("div"),U(c.$$.fragment),u=p(),f=d("div"),m=d("div"),U($.$$.fragment),g=p(),U(v.$$.fragment),w=p(),U(x.$$.fragment),b=p(),U(S.$$.fragment),z=p(),U(k.$$.fragment),C=p(),P=d("div"),E.c(),h(t,"class","wrap svelte-18qy2fy"),h(t,"id","wrap"),h(m,"class","flex flex-wrap"),h(P,"class","flex flex-wrap"),h(f,"class","players-tab svelte-18qy2fy"),h(s,"class","flex svelte-18qy2fy"),y(s,"mobile-view",e[0])},m(e,a){i(e,t,a),i(e,n,a),O(r,e,a),i(e,l,a),i(e,s,a),O(c,s,null),o(s,u),o(s,f),o(f,m),O($,m,null),o(m,g),O(v,m,null),o(m,w),O(x,m,null),o(m,b),O(S,m,null),o(m,z),O(k,m,null),o(f,C),o(f,P),E.m(P,null),N=!0},p(e,[t]){const n={};4&t&&(n.started=e[2]),r.$set(n);const l={};4&t&&(l.started=e[2]),$.$set(l);const o={};4&t&&(o.started=e[2]),v.$set(o);const i={};4&t&&(i.started=e[2]),x.$set(i);const a={};4&t&&(a.started=e[2]),S.$set(a);const c={};4&t&&(c.started=e[2]),k.$set(c),T===(T=L(e))&&E?E.p(e,t):(E.d(1),E=T(e),E&&(E.c(),E.m(P,null))),1&t&&y(s,"mobile-view",e[0])},i(e){N||(D(r.$$.fragment,e),D(c.$$.fragment,e),D($.$$.fragment,e),D(v.$$.fragment,e),D(x.$$.fragment,e),D(S.$$.fragment,e),D(k.$$.fragment,e),N=!0)},o(e){M(r.$$.fragment,e),M(c.$$.fragment,e),M($.$$.fragment,e),M(v.$$.fragment,e),M(x.$$.fragment,e),M(S.$$.fragment,e),M(k.$$.fragment,e),N=!1},d(e){e&&a(t),e&&a(n),B(r,e),e&&a(l),e&&a(s),B(c),B($),B(v),B(x),B(S),B(k),E.d()}}}function Ve(e,t,n){let r=!1,l=!1,s=ie.started;function o(){let e=document.getElementById("wrap");n(0,r=e.clientWidth<2*e.clientHeight)}ie.on("start",(()=>n(2,s=!0))),ie.on("canDisplayResults",(()=>n(1,l=!0))),ie.on("end",(()=>{n(1,l=!0),ie.emit("displayResult")})),x((()=>{o(),window.addEventListener("resize",o)}));return[r,l,s,async()=>{if(ae&&!confirm("Are you sure? Your old game data might be deleted!"))return;await ie.start(!0)||ie.alert("Minimum two players are required.",1e3)},()=>ie.startFromSaved(),()=>ie.emit("displayResult"),()=>ie.emit("diceRoll"),()=>ie.save(),()=>{confirm("Are you sure? Your old game data might be deleted!")&&(ie.clearSaved(),window.location.href="?game")}]}class Xe extends Y{constructor(e){super(),j(this,e,Ve,Qe,s,{})}}function Ze(t){let n;return{c(){n=d("div"),n.innerHTML='<h1 class="m-0 svelte-rpam97">Ludo</h1> \n\t\t<p class="m-0 svelte-rpam97">A site built in svelte to play singleplayer ludo for fun even with bots!</p> \n\n\t\t<a href="?game" class="cover-btn svelte-rpam97">Lets play!</a> \n\t\t<p class="credits m-0 svelte-rpam97">Made by <a href="https://github.com/scientific-dev" class="svelte-rpam97">scientific-dev</a></p>',h(n,"class","cover svelte-rpam97")},m(e,t){i(e,n,t)},i:e,o:e,d(e){e&&a(n)}}}function et(e){let t,n;return t=new Xe({}),{c(){U(t.$$.fragment)},m(e,r){O(t,e,r),n=!0},i(e){n||(D(t.$$.fragment,e),n=!0)},o(e){M(t.$$.fragment,e),n=!1},d(e){B(t,e)}}}function tt(t){let n,r,l,s,o,c;const u=[et,Ze],m=[];return l=function(e,t){return e[0]?0:1}(t),s=m[l]=u[l](t),{c(){n=d("div"),r=p(),s.c(),o=f(),h(n,"class","bg-cover svelte-rpam97")},m(e,t){i(e,n,t),i(e,r,t),m[l].m(e,t),i(e,o,t),c=!0},p:e,i(e){c||(D(s),c=!0)},o(e){M(s),c=!1},d(e){e&&a(n),e&&a(r),m[l].d(e),e&&a(o)}}}function nt(e){return[new URLSearchParams(window.location.search).has("game")]}return new class extends Y{constructor(e){super(),j(this,e,nt,tt,s,{})}}({target:document.body})}();
